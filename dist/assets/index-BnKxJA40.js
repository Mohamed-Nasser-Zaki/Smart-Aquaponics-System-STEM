var v0=Object.defineProperty;var x0=(t,e,n)=>e in t?v0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>x0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hg={exports:{}},Gl={},jg={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),S0=Symbol.for("react.portal"),C0=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),N0=Symbol.for("react.memo"),M0=Symbol.for("react.lazy"),Td=Symbol.iterator;function D0(t){return t===null||typeof t!="object"?null:(t=Td&&t[Td]||t["@@iterator"],typeof t=="function"?t:null)}var Vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ug=Object.assign,$g={};function cs(t,e,n){this.props=t,this.context=e,this.refs=$g,this.updater=n||Vg}cs.prototype.isReactComponent={};cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yg(){}Yg.prototype=cs.prototype;function Bu(t,e,n){this.props=t,this.context=e,this.refs=$g,this.updater=n||Vg}var Wu=Bu.prototype=new Yg;Wu.constructor=Bu;Ug(Wu,cs.prototype);Wu.isPureReactComponent=!0;var Id=Array.isArray,Gg=Object.prototype.hasOwnProperty,Hu={current:null},Kg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Gg.call(e,i)&&!Kg.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Wr,type:t,key:r,ref:o,props:s,_owner:Hu.current}}function R0(t,e){return{$$typeof:Wr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ju(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wr}function O0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pd=/\/+/g;function wa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O0(""+t.key):e.toString(36)}function Ao(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wr:case S0:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+wa(o,0):i,Id(s)?(n="",t!=null&&(n=t.replace(Pd,"$&/")+"/"),Ao(s,e,n,"",function(c){return c})):s!=null&&(ju(s)&&(s=R0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Id(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+wa(r,l);o+=Ao(r,e,n,a,s)}else if(a=D0(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+wa(r,l++),o+=Ao(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function to(t,e,n){if(t==null)return t;var i=[],s=0;return Ao(t,i,"","",function(r){return e.call(n,r,s++)}),i}function A0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},Lo={transition:null},L0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Hu};function qg(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:to,forEach:function(t,e,n){to(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return to(t,function(){e++}),e},toArray:function(t){return to(t,function(e){return e})||[]},only:function(t){if(!ju(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=cs;W.Fragment=C0;W.Profiler=k0;W.PureComponent=Bu;W.StrictMode=E0;W.Suspense=P0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L0;W.act=qg;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Ug({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Hu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Gg.call(e,a)&&!Kg.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Wr,type:t.type,key:s,ref:r,props:i,_owner:o}};W.createContext=function(t){return t={$$typeof:T0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b0,_context:t},t.Consumer=t};W.createElement=Qg;W.createFactory=function(t){var e=Qg.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:I0,render:t}};W.isValidElement=ju;W.lazy=function(t){return{$$typeof:M0,_payload:{_status:-1,_result:t},_init:A0}};W.memo=function(t,e){return{$$typeof:N0,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Lo.transition;Lo.transition={};try{t()}finally{Lo.transition=e}};W.unstable_act=qg;W.useCallback=function(t,e){return Ue.current.useCallback(t,e)};W.useContext=function(t){return Ue.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ue.current.useEffect(t,e)};W.useId=function(){return Ue.current.useId()};W.useImperativeHandle=function(t,e,n){return Ue.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ue.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Ue.current.useReducer(t,e,n)};W.useRef=function(t){return Ue.current.useRef(t)};W.useState=function(t){return Ue.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Ue.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Ue.current.useTransition()};W.version="18.3.1";jg.exports=W;var ue=jg.exports;const Xg=w0(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0=ue,z0=Symbol.for("react.element"),B0=Symbol.for("react.fragment"),W0=Object.prototype.hasOwnProperty,H0=F0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j0={key:!0,ref:!0,__self:!0,__source:!0};function Zg(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)W0.call(e,i)&&!j0.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:z0,type:t,key:r,ref:o,props:s,_owner:H0.current}}Gl.Fragment=B0;Gl.jsx=Zg;Gl.jsxs=Zg;Hg.exports=Gl;var M=Hg.exports,Jg={exports:{}},at={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var A=T.length;T.push(O);e:for(;0<A;){var Q=A-1>>>1,J=T[Q];if(0<s(J,O))T[Q]=O,T[A]=J,A=Q;else break e}}function n(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var O=T[0],A=T.pop();if(A!==O){T[0]=A;e:for(var Q=0,J=T.length,Rt=J>>>1;Q<Rt;){var We=2*(Q+1)-1,Vt=T[We],He=We+1,eo=T[He];if(0>s(Vt,A))He<J&&0>s(eo,Vt)?(T[Q]=eo,T[He]=A,Q=He):(T[Q]=Vt,T[We]=A,Q=We);else if(He<J&&0>s(eo,A))T[Q]=eo,T[He]=A,Q=He;else break e}}return O}function s(T,O){var A=T.sortIndex-O.sortIndex;return A!==0?A:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,p=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var O=n(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=T)i(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function x(T){if(_=!1,y(T),!p)if(n(a)!==null)p=!0,fe(w);else{var O=n(c);O!==null&&Me(x,O.startTime-T)}}function w(T,O){p=!1,_&&(_=!1,g(C),C=-1),f=!0;var A=d;try{for(y(O),h=n(a);h!==null&&(!(h.expirationTime>O)||T&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,d=h.priorityLevel;var J=Q(h.expirationTime<=O);O=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(a)&&i(a),y(O)}else i(a);h=n(a)}if(h!==null)var Rt=!0;else{var We=n(c);We!==null&&Me(x,We.startTime-O),Rt=!1}return Rt}finally{h=null,d=A,f=!1}}var E=!1,S=null,C=-1,N=5,I=-1;function D(){return!(t.unstable_now()-I<N)}function H(){if(S!==null){var T=t.unstable_now();I=T;var O=!0;try{O=S(!0,T)}finally{O?me():(E=!1,S=null)}}else E=!1}var me;if(typeof m=="function")me=function(){m(H)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,re=nt.port2;nt.port1.onmessage=H,me=function(){re.postMessage(null)}}else me=function(){v(H,0)};function fe(T){S=T,E||(E=!0,me())}function Me(T,O){C=v(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,fe(w))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var A=d;d=O;try{return T()}finally{d=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=d;d=T;try{return O()}finally{d=A}},t.unstable_scheduleCallback=function(T,O,A){var Q=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=A+J,T={id:u++,callback:O,priorityLevel:T,startTime:A,expirationTime:J,sortIndex:-1},A>Q?(T.sortIndex=A,e(c,T),n(a)===null&&T===n(c)&&(_?(g(C),C=-1):_=!0,Me(x,A-Q))):(T.sortIndex=J,e(a,T),p||f||(p=!0,fe(w))),T},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(T){var O=d;return function(){var A=d;d=O;try{return T.apply(this,arguments)}finally{d=A}}}})(tm);em.exports=tm;var V0=em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=ue,lt=V0;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nm=new Set,ar={};function mi(t,e){Qi(t,e),Qi(t+"Capture",e)}function Qi(t,e){for(ar[t]=e,t=0;t<e.length;t++)nm.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=Object.prototype.hasOwnProperty,$0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},Md={};function Y0(t){return gc.call(Md,t)?!0:gc.call(Nd,t)?!1:$0.test(t)?Md[t]=!0:(Nd[t]=!0,!1)}function G0(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K0(t,e,n,i){if(e===null||typeof e>"u"||G0(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vu=/[\-:]([a-z])/g;function Uu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vu,Uu);Ne[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vu,Uu);Ne[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vu,Uu);Ne[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function $u(t,e,n,i){var s=Ne.hasOwnProperty(e)?Ne[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K0(e,n,s,i)&&(n=null),i||s===null?Y0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var cn=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),mc=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),sm=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),yc=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),rm=Symbol.for("react.offscreen"),Dd=Symbol.iterator;function ms(t){return t===null||typeof t!="object"?null:(t=Dd&&t[Dd]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,Sa;function Rs(t){if(Sa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sa=e&&e[1]||""}return`
`+Sa+t}var Ca=!1;function Ea(t,e){if(!t||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rs(t):""}function Q0(t){switch(t.tag){case 5:return Rs(t.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return t=Ea(t.type,!1),t;case 11:return t=Ea(t.type.render,!1),t;case 1:return t=Ea(t.type,!0),t;default:return""}}function vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Ei:return"Portal";case mc:return"Profiler";case Yu:return"StrictMode";case _c:return"Suspense";case yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sm:return(t.displayName||"Context")+".Consumer";case im:return(t._context.displayName||"Context")+".Provider";case Gu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ku:return e=t.displayName||null,e!==null?e:vc(t.type)||"Memo";case pn:e=t._payload,t=t._init;try{return vc(t(e))}catch{}}return null}function q0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vc(e);case 8:return e===Yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X0(t){var e=om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function io(t){t._valueTracker||(t._valueTracker=X0(t))}function lm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=om(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xc(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function am(t,e){e=e.checked,e!=null&&$u(t,"checked",e,!1)}function wc(t,e){am(t,e);var n=Rn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sc(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Od(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sc(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Os=Array.isArray;function zi(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ad(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Os(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function cm(t,e){var n=Rn(e.value),i=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ld(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ec(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,hm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z0=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){Z0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function dm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function fm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=dm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var J0=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kc(t,e){if(e){if(J0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function bc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=null;function Qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ic=null,Bi=null,Wi=null;function Fd(t){if(t=Vr(t)){if(typeof Ic!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Zl(e),Ic(t.stateNode,t.type,e))}}function pm(t){Bi?Wi?Wi.push(t):Wi=[t]:Bi=t}function gm(){if(Bi){var t=Bi,e=Wi;if(Wi=Bi=null,Fd(t),e)for(t=0;t<e.length;t++)Fd(e[t])}}function mm(t,e){return t(e)}function _m(){}var ka=!1;function ym(t,e,n){if(ka)return t(e,n);ka=!0;try{return mm(t,e,n)}finally{ka=!1,(Bi!==null||Wi!==null)&&(_m(),gm())}}function ur(t,e){var n=t.stateNode;if(n===null)return null;var i=Zl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Pc=!1;if(tn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Pc=!1}function ex(t,e,n,i,s,r,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Vs=!1,Jo=null,el=!1,Nc=null,tx={onError:function(t){Vs=!0,Jo=t}};function nx(t,e,n,i,s,r,o,l,a){Vs=!1,Jo=null,ex.apply(tx,arguments)}function ix(t,e,n,i,s,r,o,l,a){if(nx.apply(this,arguments),Vs){if(Vs){var c=Jo;Vs=!1,Jo=null}else throw Error(k(198));el||(el=!0,Nc=c)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zd(t){if(_i(t)!==t)throw Error(k(188))}function sx(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return zd(s),t;if(r===i)return zd(s),e;r=r.sibling}throw Error(k(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function xm(t){return t=sx(t),t!==null?wm(t):null}function wm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wm(t);if(e!==null)return e;t=t.sibling}return null}var Sm=lt.unstable_scheduleCallback,Bd=lt.unstable_cancelCallback,rx=lt.unstable_shouldYield,ox=lt.unstable_requestPaint,pe=lt.unstable_now,lx=lt.unstable_getCurrentPriorityLevel,qu=lt.unstable_ImmediatePriority,Cm=lt.unstable_UserBlockingPriority,tl=lt.unstable_NormalPriority,ax=lt.unstable_LowPriority,Em=lt.unstable_IdlePriority,Kl=null,Wt=null;function cx(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:dx,ux=Math.log,hx=Math.LN2;function dx(t){return t>>>=0,t===0?32:31-(ux(t)/hx|0)|0}var ro=64,oo=4194304;function As(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=As(l):(r&=o,r!==0&&(i=As(r)))}else o=n&~s,o!==0?i=As(o):r!==0&&(i=As(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pt(e),s=1<<n,i|=t[n],e&=~s;return i}function fx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function px(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Pt(r),l=1<<o,a=s[o];a===-1?(!(l&n)||l&i)&&(s[o]=fx(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function Mc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function km(){var t=ro;return ro<<=1,!(ro&4194240)&&(ro=64),t}function ba(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function gx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Xu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var G=0;function bm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tm,Zu,Im,Pm,Nm,Dc=!1,lo=[],wn=null,Sn=null,Cn=null,hr=new Map,dr=new Map,mn=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(t,e){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(e.pointerId)}}function ys(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Vr(e),e!==null&&Zu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _x(t,e,n,i,s){switch(e){case"focusin":return wn=ys(wn,t,e,n,i,s),!0;case"dragenter":return Sn=ys(Sn,t,e,n,i,s),!0;case"mouseover":return Cn=ys(Cn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return hr.set(r,ys(hr.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,dr.set(r,ys(dr.get(r)||null,t,e,n,i,s)),!0}return!1}function Mm(t){var e=Xn(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=vm(n),e!==null){t.blockedOn=e,Nm(t.priority,function(){Im(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Tc=i,n.target.dispatchEvent(i),Tc=null}else return e=Vr(n),e!==null&&Zu(e),t.blockedOn=n,!1;e.shift()}return!0}function Hd(t,e,n){Fo(t)&&n.delete(e)}function yx(){Dc=!1,wn!==null&&Fo(wn)&&(wn=null),Sn!==null&&Fo(Sn)&&(Sn=null),Cn!==null&&Fo(Cn)&&(Cn=null),hr.forEach(Hd),dr.forEach(Hd)}function vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,yx)))}function fr(t){function e(s){return vs(s,t)}if(0<lo.length){vs(lo[0],t);for(var n=1;n<lo.length;n++){var i=lo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(wn!==null&&vs(wn,t),Sn!==null&&vs(Sn,t),Cn!==null&&vs(Cn,t),hr.forEach(e),dr.forEach(e),n=0;n<mn.length;n++)i=mn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Mm(n),n.blockedOn===null&&mn.shift()}var Hi=cn.ReactCurrentBatchConfig,il=!0;function vx(t,e,n,i){var s=G,r=Hi.transition;Hi.transition=null;try{G=1,Ju(t,e,n,i)}finally{G=s,Hi.transition=r}}function xx(t,e,n,i){var s=G,r=Hi.transition;Hi.transition=null;try{G=4,Ju(t,e,n,i)}finally{G=s,Hi.transition=r}}function Ju(t,e,n,i){if(il){var s=Rc(t,e,n,i);if(s===null)La(t,e,i,sl,n),Wd(t,i);else if(_x(s,t,e,n,i))i.stopPropagation();else if(Wd(t,i),e&4&&-1<mx.indexOf(t)){for(;s!==null;){var r=Vr(s);if(r!==null&&Tm(r),r=Rc(t,e,n,i),r===null&&La(t,e,i,sl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else La(t,e,i,null,n)}}var sl=null;function Rc(t,e,n,i){if(sl=null,t=Qu(i),t=Xn(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sl=t,null}function Dm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lx()){case qu:return 1;case Cm:return 4;case tl:case ax:return 16;case Em:return 536870912;default:return 16}default:return 16}}var yn=null,eh=null,zo=null;function Rm(){if(zo)return zo;var t,e=eh,n=e.length,i,s="value"in yn?yn.value:yn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return zo=s.slice(t,1<i?1-i:void 0)}function Bo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ao(){return!0}function jd(){return!1}function ct(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ao:jd,this.isPropagationStopped=jd,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=ct(us),jr=ae({},us,{view:0,detail:0}),wx=ct(jr),Ta,Ia,xs,Ql=ae({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(Ta=t.screenX-xs.screenX,Ia=t.screenY-xs.screenY):Ia=Ta=0,xs=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Vd=ct(Ql),Sx=ae({},Ql,{dataTransfer:0}),Cx=ct(Sx),Ex=ae({},jr,{relatedTarget:0}),Pa=ct(Ex),kx=ae({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=ct(kx),Tx=ae({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ix=ct(Tx),Px=ae({},us,{data:0}),Ud=ct(Px),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dx[t])?!!e[t]:!1}function nh(){return Rx}var Ox=ae({},jr,{key:function(t){if(t.key){var e=Nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ax=ct(Ox),Lx=ae({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=ct(Lx),Fx=ae({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),zx=ct(Fx),Bx=ae({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=ct(Bx),Hx=ae({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jx=ct(Hx),Vx=[9,13,27,32],ih=tn&&"CompositionEvent"in window,Us=null;tn&&"documentMode"in document&&(Us=document.documentMode);var Ux=tn&&"TextEvent"in window&&!Us,Om=tn&&(!ih||Us&&8<Us&&11>=Us),Yd=" ",Gd=!1;function Am(t,e){switch(t){case"keyup":return Vx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function $x(t,e){switch(t){case"compositionend":return Lm(e);case"keypress":return e.which!==32?null:(Gd=!0,Yd);case"textInput":return t=e.data,t===Yd&&Gd?null:t;default:return null}}function Yx(t,e){if(bi)return t==="compositionend"||!ih&&Am(t,e)?(t=Rm(),zo=eh=yn=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Om&&e.locale!=="ko"?null:e.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gx[t.type]:e==="textarea"}function Fm(t,e,n,i){pm(i),e=rl(e,"onChange"),0<e.length&&(n=new th("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var $s=null,pr=null;function Kx(t){Km(t,0)}function ql(t){var e=Pi(t);if(lm(e))return t}function Qx(t,e){if(t==="change")return e}var zm=!1;if(tn){var Na;if(tn){var Ma="oninput"in document;if(!Ma){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Ma=typeof Qd.oninput=="function"}Na=Ma}else Na=!1;zm=Na&&(!document.documentMode||9<document.documentMode)}function qd(){$s&&($s.detachEvent("onpropertychange",Bm),pr=$s=null)}function Bm(t){if(t.propertyName==="value"&&ql(pr)){var e=[];Fm(e,pr,t,Qu(t)),ym(Kx,e)}}function qx(t,e,n){t==="focusin"?(qd(),$s=e,pr=n,$s.attachEvent("onpropertychange",Bm)):t==="focusout"&&qd()}function Xx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(pr)}function Zx(t,e){if(t==="click")return ql(e)}function Jx(t,e){if(t==="input"||t==="change")return ql(e)}function ew(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dt=typeof Object.is=="function"?Object.is:ew;function gr(t,e){if(Dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!gc.call(e,s)||!Dt(t[s],e[s]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,e){var n=Xd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xd(n)}}function Wm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hm(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tw(t){var e=Hm(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(i!==null&&sh(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Zd(n,r);var o=Zd(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nw=tn&&"documentMode"in document&&11>=document.documentMode,Ti=null,Oc=null,Ys=null,Ac=!1;function Jd(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ac||Ti==null||Ti!==Zo(i)||(i=Ti,"selectionStart"in i&&sh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ys&&gr(Ys,i)||(Ys=i,i=rl(Oc,"onSelect"),0<i.length&&(e=new th("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ti)))}function co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ii={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Da={},jm={};tn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Xl(t){if(Da[t])return Da[t];if(!Ii[t])return t;var e=Ii[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jm)return Da[t]=e[n];return t}var Vm=Xl("animationend"),Um=Xl("animationiteration"),$m=Xl("animationstart"),Ym=Xl("transitionend"),Gm=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Gm.set(t,e),mi(e,[t])}for(var Ra=0;Ra<ef.length;Ra++){var Oa=ef[Ra],iw=Oa.toLowerCase(),sw=Oa[0].toUpperCase()+Oa.slice(1);zn(iw,"on"+sw)}zn(Vm,"onAnimationEnd");zn(Um,"onAnimationIteration");zn($m,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Ym,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function tf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ix(i,e,void 0,t),t.currentTarget=null}function Km(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;tf(s,l,c),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;tf(s,l,c),r=a}}}if(el)throw t=Nc,el=!1,Nc=null,t}function ee(t,e){var n=e[Wc];n===void 0&&(n=e[Wc]=new Set);var i=t+"__bubble";n.has(i)||(Qm(e,t,2,!1),n.add(i))}function Aa(t,e,n){var i=0;e&&(i|=4),Qm(n,t,i,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function mr(t){if(!t[uo]){t[uo]=!0,nm.forEach(function(n){n!=="selectionchange"&&(rw.has(n)||Aa(n,!1,t),Aa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Aa("selectionchange",!1,e))}}function Qm(t,e,n,i){switch(Dm(e)){case 1:var s=vx;break;case 4:s=xx;break;default:s=Ju}n=s.bind(null,e,n,t),s=void 0,!Pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function La(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Xn(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}ym(function(){var c=r,u=Qu(n),h=[];e:{var d=Gm.get(t);if(d!==void 0){var f=th,p=t;switch(t){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":f=Ax;break;case"focusin":p="focus",f=Pa;break;case"focusout":p="blur",f=Pa;break;case"beforeblur":case"afterblur":f=Pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=zx;break;case Vm:case Um:case $m:f=bx;break;case Ym:f=Wx;break;case"scroll":f=wx;break;case"wheel":f=jx;break;case"copy":case"cut":case"paste":f=Ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$d}var _=(e&4)!==0,v=!_&&t==="scroll",g=_?d!==null?d+"Capture":null:d;_=[];for(var m=c,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=ur(m,g),x!=null&&_.push(_r(m,x,y)))),v)break;m=m.return}0<_.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Tc&&(p=n.relatedTarget||n.fromElement)&&(Xn(p)||p[nn]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Xn(p):null,p!==null&&(v=_i(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(_=Vd,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=$d,x="onPointerLeave",g="onPointerEnter",m="pointer"),v=f==null?d:Pi(f),y=p==null?d:Pi(p),d=new _(x,m+"leave",f,n,u),d.target=v,d.relatedTarget=y,x=null,Xn(u)===c&&(_=new _(g,m+"enter",p,n,u),_.target=y,_.relatedTarget=v,x=_),v=x,f&&p)t:{for(_=f,g=p,m=0,y=_;y;y=wi(y))m++;for(y=0,x=g;x;x=wi(x))y++;for(;0<m-y;)_=wi(_),m--;for(;0<y-m;)g=wi(g),y--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=wi(_),g=wi(g)}_=null}else _=null;f!==null&&nf(h,d,f,_,!1),p!==null&&v!==null&&nf(h,v,p,_,!0)}}e:{if(d=c?Pi(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=Qx;else if(Kd(d))if(zm)w=Jx;else{w=Xx;var E=qx}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=Zx);if(w&&(w=w(t,c))){Fm(h,w,n,u);break e}E&&E(t,d,c),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Sc(d,"number",d.value)}switch(E=c?Pi(c):window,t){case"focusin":(Kd(E)||E.contentEditable==="true")&&(Ti=E,Oc=c,Ys=null);break;case"focusout":Ys=Oc=Ti=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Jd(h,n,u);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":Jd(h,n,u)}var S;if(ih)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bi?Am(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Om&&n.locale!=="ko"&&(bi||C!=="onCompositionStart"?C==="onCompositionEnd"&&bi&&(S=Rm()):(yn=u,eh="value"in yn?yn.value:yn.textContent,bi=!0)),E=rl(c,C),0<E.length&&(C=new Ud(C,t,null,n,u),h.push({event:C,listeners:E}),S?C.data=S:(S=Lm(n),S!==null&&(C.data=S)))),(S=Ux?$x(t,n):Yx(t,n))&&(c=rl(c,"onBeforeInput"),0<c.length&&(u=new Ud("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}Km(h,e)})}function _r(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rl(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=ur(t,n),r!=null&&i.unshift(_r(t,r,s)),r=ur(t,e),r!=null&&i.push(_r(t,r,s))),t=t.return}return i}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nf(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,s?(a=ur(n,r),a!=null&&o.unshift(_r(n,a,l))):s||(a=ur(n,r),a!=null&&o.push(_r(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function sf(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function ho(t,e,n){if(e=sf(e),sf(t)!==e&&n)throw Error(k(425))}function ol(){}var Lc=null,Fc=null;function zc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bc=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(t){return rf.resolve(null).then(t).catch(uw)}:Bc;function uw(t){setTimeout(function(){throw t})}function Fa(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),fr(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);fr(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Bt="__reactFiber$"+hs,yr="__reactProps$"+hs,nn="__reactContainer$"+hs,Wc="__reactEvents$"+hs,hw="__reactListeners$"+hs,dw="__reactHandles$"+hs;function Xn(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=of(t);t!==null;){if(n=t[Bt])return n;t=of(t)}return e}t=n,n=t.parentNode}return null}function Vr(t){return t=t[Bt]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Zl(t){return t[yr]||null}var Hc=[],Ni=-1;function Bn(t){return{current:t}}function ie(t){0>Ni||(t.current=Hc[Ni],Hc[Ni]=null,Ni--)}function Z(t,e){Ni++,Hc[Ni]=t.current,t.current=e}var On={},Be=Bn(On),Ze=Bn(!1),oi=On;function qi(t,e){var n=t.type.contextTypes;if(!n)return On;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Je(t){return t=t.childContextTypes,t!=null}function ll(){ie(Ze),ie(Be)}function lf(t,e,n){if(Be.current!==On)throw Error(k(168));Z(Be,e),Z(Ze,n)}function qm(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(k(108,q0(t)||"Unknown",s));return ae({},n,i)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,oi=Be.current,Z(Be,t),Z(Ze,Ze.current),!0}function af(t,e,n){var i=t.stateNode;if(!i)throw Error(k(169));n?(t=qm(t,e,oi),i.__reactInternalMemoizedMergedChildContext=t,ie(Ze),ie(Be),Z(Be,t)):ie(Ze),Z(Ze,n)}var Kt=null,Jl=!1,za=!1;function Xm(t){Kt===null?Kt=[t]:Kt.push(t)}function fw(t){Jl=!0,Xm(t)}function Wn(){if(!za&&Kt!==null){za=!0;var t=0,e=G;try{var n=Kt;for(G=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Kt=null,Jl=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(t+1)),Sm(qu,Wn),s}finally{G=e,za=!1}}return null}var Mi=[],Di=0,cl=null,ul=0,ht=[],dt=0,li=null,qt=1,Xt="";function $n(t,e){Mi[Di++]=ul,Mi[Di++]=cl,cl=t,ul=e}function Zm(t,e,n){ht[dt++]=qt,ht[dt++]=Xt,ht[dt++]=li,li=t;var i=qt;t=Xt;var s=32-Pt(i)-1;i&=~(1<<s),n+=1;var r=32-Pt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,qt=1<<32-Pt(e)+s|n<<s|i,Xt=r+t}else qt=1<<r|n<<s|i,Xt=t}function rh(t){t.return!==null&&($n(t,1),Zm(t,1,0))}function oh(t){for(;t===cl;)cl=Mi[--Di],Mi[Di]=null,ul=Mi[--Di],Mi[Di]=null;for(;t===li;)li=ht[--dt],ht[dt]=null,Xt=ht[--dt],ht[dt]=null,qt=ht[--dt],ht[dt]=null}var rt=null,st=null,se=!1,Et=null;function Jm(t,e){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rt=t,st=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rt=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=li!==null?{id:qt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rt=t,st=null,!0):!1;default:return!1}}function jc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vc(t){if(se){var e=st;if(e){var n=e;if(!cf(t,e)){if(jc(t))throw Error(k(418));e=En(n.nextSibling);var i=rt;e&&cf(t,e)?Jm(i,n):(t.flags=t.flags&-4097|2,se=!1,rt=t)}}else{if(jc(t))throw Error(k(418));t.flags=t.flags&-4097|2,se=!1,rt=t}}}function uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function fo(t){if(t!==rt)return!1;if(!se)return uf(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zc(t.type,t.memoizedProps)),e&&(e=st)){if(jc(t))throw e_(),Error(k(418));for(;e;)Jm(t,e),e=En(e.nextSibling)}if(uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=rt?En(t.stateNode.nextSibling):null;return!0}function e_(){for(var t=st;t;)t=En(t.nextSibling)}function Xi(){st=rt=null,se=!1}function lh(t){Et===null?Et=[t]:Et.push(t)}var pw=cn.ReactCurrentBatchConfig;function ws(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var i=n.stateNode}if(!i)throw Error(k(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function po(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hf(t){var e=t._init;return e(t._payload)}function t_(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=In(g,m),g.index=0,g.sibling=null,g}function r(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,y,x){return m===null||m.tag!==6?(m=$a(y,g.mode,x),m.return=g,m):(m=s(m,y),m.return=g,m)}function a(g,m,y,x){var w=y.type;return w===ki?u(g,m,y.props.children,x,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pn&&hf(w)===m.type)?(x=s(m,y.props),x.ref=ws(g,m,y),x.return=g,x):(x=Yo(y.type,y.key,y.props,null,g.mode,x),x.ref=ws(g,m,y),x.return=g,x)}function c(g,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ya(y,g.mode,x),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function u(g,m,y,x,w){return m===null||m.tag!==7?(m=si(y,g.mode,x,w),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$a(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case no:return y=Yo(m.type,m.key,m.props,null,g.mode,y),y.ref=ws(g,null,m),y.return=g,y;case Ei:return m=Ya(m,g.mode,y),m.return=g,m;case pn:var x=m._init;return h(g,x(m._payload),y)}if(Os(m)||ms(m))return m=si(m,g.mode,y,null),m.return=g,m;po(g,m)}return null}function d(g,m,y,x){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:l(g,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case no:return y.key===w?a(g,m,y,x):null;case Ei:return y.key===w?c(g,m,y,x):null;case pn:return w=y._init,d(g,m,w(y._payload),x)}if(Os(y)||ms(y))return w!==null?null:u(g,m,y,x,null);po(g,y)}return null}function f(g,m,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,l(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case no:return g=g.get(x.key===null?y:x.key)||null,a(m,g,x,w);case Ei:return g=g.get(x.key===null?y:x.key)||null,c(m,g,x,w);case pn:var E=x._init;return f(g,m,y,E(x._payload),w)}if(Os(x)||ms(x))return g=g.get(y)||null,u(m,g,x,w,null);po(m,x)}return null}function p(g,m,y,x){for(var w=null,E=null,S=m,C=m=0,N=null;S!==null&&C<y.length;C++){S.index>C?(N=S,S=null):N=S.sibling;var I=d(g,S,y[C],x);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(g,S),m=r(I,m,C),E===null?w=I:E.sibling=I,E=I,S=N}if(C===y.length)return n(g,S),se&&$n(g,C),w;if(S===null){for(;C<y.length;C++)S=h(g,y[C],x),S!==null&&(m=r(S,m,C),E===null?w=S:E.sibling=S,E=S);return se&&$n(g,C),w}for(S=i(g,S);C<y.length;C++)N=f(S,g,C,y[C],x),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?C:N.key),m=r(N,m,C),E===null?w=N:E.sibling=N,E=N);return t&&S.forEach(function(D){return e(g,D)}),se&&$n(g,C),w}function _(g,m,y,x){var w=ms(y);if(typeof w!="function")throw Error(k(150));if(y=w.call(y),y==null)throw Error(k(151));for(var E=w=null,S=m,C=m=0,N=null,I=y.next();S!==null&&!I.done;C++,I=y.next()){S.index>C?(N=S,S=null):N=S.sibling;var D=d(g,S,I.value,x);if(D===null){S===null&&(S=N);break}t&&S&&D.alternate===null&&e(g,S),m=r(D,m,C),E===null?w=D:E.sibling=D,E=D,S=N}if(I.done)return n(g,S),se&&$n(g,C),w;if(S===null){for(;!I.done;C++,I=y.next())I=h(g,I.value,x),I!==null&&(m=r(I,m,C),E===null?w=I:E.sibling=I,E=I);return se&&$n(g,C),w}for(S=i(g,S);!I.done;C++,I=y.next())I=f(S,g,C,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),m=r(I,m,C),E===null?w=I:E.sibling=I,E=I);return t&&S.forEach(function(H){return e(g,H)}),se&&$n(g,C),w}function v(g,m,y,x){if(typeof y=="object"&&y!==null&&y.type===ki&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case no:e:{for(var w=y.key,E=m;E!==null;){if(E.key===w){if(w=y.type,w===ki){if(E.tag===7){n(g,E.sibling),m=s(E,y.props.children),m.return=g,g=m;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pn&&hf(w)===E.type){n(g,E.sibling),m=s(E,y.props),m.ref=ws(g,E,y),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}y.type===ki?(m=si(y.props.children,g.mode,x,y.key),m.return=g,g=m):(x=Yo(y.type,y.key,y.props,null,g.mode,x),x.ref=ws(g,m,y),x.return=g,g=x)}return o(g);case Ei:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Ya(y,g.mode,x),m.return=g,g=m}return o(g);case pn:return E=y._init,v(g,m,E(y._payload),x)}if(Os(y))return p(g,m,y,x);if(ms(y))return _(g,m,y,x);po(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=$a(y,g.mode,x),m.return=g,g=m),o(g)):n(g,m)}return v}var Zi=t_(!0),n_=t_(!1),hl=Bn(null),dl=null,Ri=null,ah=null;function ch(){ah=Ri=dl=null}function uh(t){var e=hl.current;ie(hl),t._currentValue=e}function Uc(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ji(t,e){dl=t,ah=Ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qe=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(ah!==t)if(t={context:t,memoizedValue:e,next:null},Ri===null){if(dl===null)throw Error(k(308));Ri=t,dl.dependencies={lanes:0,firstContext:t}}else Ri=Ri.next=t;return e}var Zn=null;function hh(t){Zn===null?Zn=[t]:Zn.push(t)}function i_(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,hh(e)):(n.next=s.next,s.next=n),e.interleaved=n,sn(t,i)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,V&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,sn(t,n)}return s=i.interleaved,s===null?(e.next=e,hh(i)):(e.next=s.next,s.next=e),i.interleaved=e,sn(t,n)}function Wo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xu(t,n)}}function df(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fl(t,e,n,i){var s=t.updateQueue;gn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?r=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(r!==null){var h=s.baseState;o=0,u=c=a=null,l=r;do{var d=l.lane,f=l.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,_=l;switch(d=e,f=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ae({},h,d);break e;case 2:gn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);ci|=o,t.lanes=o,t.memoizedState=h}}function ff(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(k(191,s));s.call(i)}}}var Ur={},Ht=Bn(Ur),vr=Bn(Ur),xr=Bn(Ur);function Jn(t){if(t===Ur)throw Error(k(174));return t}function fh(t,e){switch(Z(xr,e),Z(vr,t),Z(Ht,Ur),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ec(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ec(e,t)}ie(Ht),Z(Ht,e)}function Ji(){ie(Ht),ie(vr),ie(xr)}function r_(t){Jn(xr.current);var e=Jn(Ht.current),n=Ec(e,t.type);e!==n&&(Z(vr,t),Z(Ht,n))}function ph(t){vr.current===t&&(ie(Ht),ie(vr))}var oe=Bn(0);function pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ba=[];function gh(){for(var t=0;t<Ba.length;t++)Ba[t]._workInProgressVersionPrimary=null;Ba.length=0}var Ho=cn.ReactCurrentDispatcher,Wa=cn.ReactCurrentBatchConfig,ai=0,le=null,ye=null,Se=null,gl=!1,Gs=!1,wr=0,gw=0;function De(){throw Error(k(321))}function mh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dt(t[n],e[n]))return!1;return!0}function _h(t,e,n,i,s,r){if(ai=r,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ho.current=t===null||t.memoizedState===null?vw:xw,t=n(i,s),Gs){r=0;do{if(Gs=!1,wr=0,25<=r)throw Error(k(301));r+=1,Se=ye=null,e.updateQueue=null,Ho.current=ww,t=n(i,s)}while(Gs)}if(Ho.current=ml,e=ye!==null&&ye.next!==null,ai=0,Se=ye=le=null,gl=!1,e)throw Error(k(300));return t}function yh(){var t=wr!==0;return wr=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?le.memoizedState=Se=t:Se=Se.next=t,Se}function yt(){if(ye===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Se===null?le.memoizedState:Se.next;if(e!==null)Se=e,ye=t;else{if(t===null)throw Error(k(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Se===null?le.memoizedState=Se=t:Se=Se.next=t}return Se}function Sr(t,e){return typeof e=="function"?e(t):e}function Ha(t){var e=yt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=ye,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,c=r;do{var u=c.lane;if((ai&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=i):a=a.next=h,le.lanes|=u,ci|=u}c=c.next}while(c!==null&&c!==r);a===null?o=i:a.next=l,Dt(i,e.memoizedState)||(Qe=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,le.lanes|=r,ci|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ja(t){var e=yt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Dt(r,e.memoizedState)||(Qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function o_(){}function l_(t,e){var n=le,i=yt(),s=e(),r=!Dt(i.memoizedState,s);if(r&&(i.memoizedState=s,Qe=!0),i=i.queue,vh(u_.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Cr(9,c_.bind(null,n,i,s,e),void 0,null),be===null)throw Error(k(349));ai&30||a_(n,e,s)}return s}function a_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c_(t,e,n,i){e.value=n,e.getSnapshot=i,h_(e)&&d_(t)}function u_(t,e,n){return n(function(){h_(e)&&d_(t)})}function h_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dt(t,n)}catch{return!0}}function d_(t){var e=sn(t,1);e!==null&&Nt(e,t,1,-1)}function pf(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},e.queue=t,t=t.dispatch=yw.bind(null,le,t),[e.memoizedState,t]}function Cr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function f_(){return yt().memoizedState}function jo(t,e,n,i){var s=Ft();le.flags|=t,s.memoizedState=Cr(1|e,n,void 0,i===void 0?null:i)}function ea(t,e,n,i){var s=yt();i=i===void 0?null:i;var r=void 0;if(ye!==null){var o=ye.memoizedState;if(r=o.destroy,i!==null&&mh(i,o.deps)){s.memoizedState=Cr(e,n,r,i);return}}le.flags|=t,s.memoizedState=Cr(1|e,n,r,i)}function gf(t,e){return jo(8390656,8,t,e)}function vh(t,e){return ea(2048,8,t,e)}function p_(t,e){return ea(4,2,t,e)}function g_(t,e){return ea(4,4,t,e)}function m_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function __(t,e,n){return n=n!=null?n.concat([t]):null,ea(4,4,m_.bind(null,e,t),n)}function xh(){}function y_(t,e){var n=yt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&mh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function v_(t,e){var n=yt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&mh(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function x_(t,e,n){return ai&21?(Dt(n,e)||(n=km(),le.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qe=!0),t.memoizedState=n)}function mw(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var i=Wa.transition;Wa.transition={};try{t(!1),e()}finally{G=n,Wa.transition=i}}function w_(){return yt().memoizedState}function _w(t,e,n){var i=Tn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},S_(t))C_(e,n);else if(n=i_(t,e,n,i),n!==null){var s=Ve();Nt(n,t,i,s),E_(n,e,i)}}function yw(t,e,n){var i=Tn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(S_(t))C_(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Dt(l,o)){var a=e.interleaved;a===null?(s.next=s,hh(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=i_(t,e,s,i),n!==null&&(s=Ve(),Nt(n,t,i,s),E_(n,e,i))}}function S_(t){var e=t.alternate;return t===le||e!==null&&e===le}function C_(t,e){Gs=gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E_(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xu(t,n)}}var ml={readContext:_t,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},vw={readContext:_t,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:gf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jo(4194308,4,m_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return jo(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ft();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=_w.bind(null,le,t),[i.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:pf,useDebugValue:xh,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=pf(!1),e=t[0];return t=mw.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=le,s=Ft();if(se){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),be===null)throw Error(k(349));ai&30||a_(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,gf(u_.bind(null,i,r,t),[t]),i.flags|=2048,Cr(9,c_.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Ft(),e=be.identifierPrefix;if(se){var n=Xt,i=qt;n=(i&~(1<<32-Pt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=wr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xw={readContext:_t,useCallback:y_,useContext:_t,useEffect:vh,useImperativeHandle:__,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:v_,useReducer:Ha,useRef:f_,useState:function(){return Ha(Sr)},useDebugValue:xh,useDeferredValue:function(t){var e=yt();return x_(e,ye.memoizedState,t)},useTransition:function(){var t=Ha(Sr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:o_,useSyncExternalStore:l_,useId:w_,unstable_isNewReconciler:!1},ww={readContext:_t,useCallback:y_,useContext:_t,useEffect:vh,useImperativeHandle:__,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:v_,useReducer:ja,useRef:f_,useState:function(){return ja(Sr)},useDebugValue:xh,useDeferredValue:function(t){var e=yt();return ye===null?e.memoizedState=t:x_(e,ye.memoizedState,t)},useTransition:function(){var t=ja(Sr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:o_,useSyncExternalStore:l_,useId:w_,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $c(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ta={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ve(),s=Tn(t),r=Jt(i,s);r.payload=e,n!=null&&(r.callback=n),e=kn(t,r,s),e!==null&&(Nt(e,t,s,i),Wo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ve(),s=Tn(t),r=Jt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=kn(t,r,s),e!==null&&(Nt(e,t,s,i),Wo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),i=Tn(t),s=Jt(n,i);s.tag=2,e!=null&&(s.callback=e),e=kn(t,s,i),e!==null&&(Nt(e,t,i,n),Wo(e,t,i))}};function mf(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!gr(n,i)||!gr(s,r):!0}function k_(t,e,n){var i=!1,s=On,r=e.contextType;return typeof r=="object"&&r!==null?r=_t(r):(s=Je(e)?oi:Be.current,i=e.contextTypes,r=(i=i!=null)?qi(t,s):On),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ta,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function _f(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ta.enqueueReplaceState(e,e.state,null)}function Yc(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dh(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=_t(r):(r=Je(e)?oi:Be.current,s.context=qi(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&($c(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ta.enqueueReplaceState(s,s.state,null),fl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function es(t,e){try{var n="",i=e;do n+=Q0(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Va(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function b_(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){yl||(yl=!0,iu=i),Gc(t,e)},n}function T_(t,e,n){n=Jt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Gc(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Gc(t,e),typeof i!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Sw;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Lw.bind(null,t,e,n),e.then(t,t))}function vf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xf(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,kn(n,e,1))),n.lanes|=1),t)}var Cw=cn.ReactCurrentOwner,Qe=!1;function je(t,e,n,i){e.child=t===null?n_(e,null,n,i):Zi(e,t.child,n,i)}function wf(t,e,n,i,s){n=n.render;var r=e.ref;return ji(e,s),i=_h(t,e,n,i,r,s),n=yh(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rn(t,e,s)):(se&&n&&rh(e),e.flags|=1,je(t,e,i,s),e.child)}function Sf(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Ih(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,I_(t,e,r,i,s)):(t=Yo(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:gr,n(o,i)&&t.ref===e.ref)return rn(t,e,s)}return e.flags|=1,t=In(r,i),t.ref=e.ref,t.return=e,e.child=t}function I_(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(gr(r,i)&&t.ref===e.ref)if(Qe=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Qe=!0);else return e.lanes=t.lanes,rn(t,e,s)}return Kc(t,e,n,i,s)}function P_(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Ai,it),it|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Ai,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Z(Ai,it),it|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Z(Ai,it),it|=i;return je(t,e,s,n),e.child}function N_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kc(t,e,n,i,s){var r=Je(n)?oi:Be.current;return r=qi(e,r),ji(e,s),n=_h(t,e,n,i,r,s),i=yh(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rn(t,e,s)):(se&&i&&rh(e),e.flags|=1,je(t,e,n,s),e.child)}function Cf(t,e,n,i,s){if(Je(n)){var r=!0;al(e)}else r=!1;if(ji(e,s),e.stateNode===null)Vo(t,e),k_(e,n,i),Yc(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=Je(n)?oi:Be.current,c=qi(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==c)&&_f(e,o,i,c),gn=!1;var d=e.memoizedState;o.state=d,fl(e,i,o,s),a=e.memoizedState,l!==i||d!==a||Ze.current||gn?(typeof u=="function"&&($c(e,n,u,i),a=e.memoizedState),(l=gn||mf(e,n,l,i,d,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=c,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,s_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:St(e.type,l),o.props=c,h=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=Je(n)?oi:Be.current,a=qi(e,a));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&_f(e,o,i,a),gn=!1,d=e.memoizedState,o.state=d,fl(e,i,o,s);var p=e.memoizedState;l!==h||d!==p||Ze.current||gn?(typeof f=="function"&&($c(e,n,f,i),p=e.memoizedState),(c=gn||mf(e,n,c,i,d,p,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=a,i=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Qc(t,e,n,i,r,s)}function Qc(t,e,n,i,s,r){N_(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&af(e,n,!1),rn(t,e,r);i=e.stateNode,Cw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Zi(e,t.child,null,r),e.child=Zi(e,null,l,r)):je(t,e,l,r),e.memoizedState=i.state,s&&af(e,n,!0),e.child}function M_(t){var e=t.stateNode;e.pendingContext?lf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lf(t,e.context,!1),fh(t,e.containerInfo)}function Ef(t,e,n,i,s){return Xi(),lh(s),e.flags|=256,je(t,e,n,i),e.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function D_(t,e,n){var i=e.pendingProps,s=oe.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(oe,s&1),t===null)return Vc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=sa(o,i,0,null),t=si(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Xc(n),e.memoizedState=qc,t):wh(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ew(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=In(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=In(l,r):(r=si(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Xc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=qc,i}return r=t.child,t=r.sibling,i=In(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function wh(t,e){return e=sa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,i){return i!==null&&lh(i),Zi(e,t.child,null,n),t=wh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ew(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Va(Error(k(422))),go(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=sa({mode:"visible",children:i.children},s,0,null),r=si(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Zi(e,t.child,null,o),e.child.memoizedState=Xc(o),e.memoizedState=qc,r);if(!(e.mode&1))return go(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(k(419)),i=Va(r,i,void 0),go(t,e,o,i)}if(l=(o&t.childLanes)!==0,Qe||l){if(i=be,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,sn(t,s),Nt(i,t,s,-1))}return Th(),i=Va(Error(k(421))),go(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fw.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,st=En(s.nextSibling),rt=e,se=!0,Et=null,t!==null&&(ht[dt++]=qt,ht[dt++]=Xt,ht[dt++]=li,qt=t.id,Xt=t.overflow,li=e),e=wh(e,i.children),e.flags|=4096,e)}function kf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Uc(t.return,e,n)}function Ua(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function R_(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(je(t,e,i.children,n),i=oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kf(t,n,e);else if(t.tag===19)kf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Z(oe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ua(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ua(e,!0,n,null,r);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kw(t,e,n){switch(e.tag){case 3:M_(e),Xi();break;case 5:r_(e);break;case 1:Je(e.type)&&al(e);break;case 4:fh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Z(hl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?D_(t,e,n):(Z(oe,oe.current&1),t=rn(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return R_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(oe,oe.current),i)break;return null;case 22:case 23:return e.lanes=0,P_(t,e,n)}return rn(t,e,n)}var O_,Zc,A_,L_;O_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zc=function(){};A_=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Jn(Ht.current);var r=null;switch(n){case"input":s=xc(t,s),i=xc(t,i),r=[];break;case"select":s=ae({},s,{value:void 0}),i=ae({},i,{value:void 0}),r=[];break;case"textarea":s=Cc(t,s),i=Cc(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ol)}kc(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ar.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var a=i[c];if(l=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(r||(r=[]),r.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ar.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ee("scroll",t),r||l===a||(r=[])):(r=r||[]).push(c,a))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};L_=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ss(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function bw(t,e,n){var i=e.pendingProps;switch(oh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Je(e.type)&&ll(),Re(e),null;case 3:return i=e.stateNode,Ji(),ie(Ze),ie(Be),gh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Et!==null&&(ou(Et),Et=null))),Zc(t,e),Re(e),null;case 5:ph(e);var s=Jn(xr.current);if(n=e.type,t!==null&&e.stateNode!=null)A_(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(k(166));return Re(e),null}if(t=Jn(Ht.current),fo(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Bt]=e,i[yr]=r,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",i),ee("close",i);break;case"iframe":case"object":case"embed":ee("load",i);break;case"video":case"audio":for(s=0;s<Ls.length;s++)ee(Ls[s],i);break;case"source":ee("error",i);break;case"img":case"image":case"link":ee("error",i),ee("load",i);break;case"details":ee("toggle",i);break;case"input":Rd(i,r),ee("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ee("invalid",i);break;case"textarea":Ad(i,r),ee("invalid",i)}kc(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&ho(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&ho(i.textContent,l,t),s=["children",""+l]):ar.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",i)}switch(n){case"input":io(i),Od(i,r,!0);break;case"textarea":io(i),Ld(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=ol)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Bt]=e,t[yr]=i,O_(t,e,!1,!1),e.stateNode=t;e:{switch(o=bc(n,i),n){case"dialog":ee("cancel",t),ee("close",t),s=i;break;case"iframe":case"object":case"embed":ee("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ls.length;s++)ee(Ls[s],t);s=i;break;case"source":ee("error",t),s=i;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=i;break;case"details":ee("toggle",t),s=i;break;case"input":Rd(t,i),s=xc(t,i),ee("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ae({},i,{value:void 0}),ee("invalid",t);break;case"textarea":Ad(t,i),s=Cc(t,i),ee("invalid",t);break;default:s=i}kc(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?fm(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hm(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&cr(t,a):typeof a=="number"&&cr(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ar.hasOwnProperty(r)?a!=null&&r==="onScroll"&&ee("scroll",t):a!=null&&$u(t,r,a,o))}switch(n){case"input":io(t),Od(t,i,!1);break;case"textarea":io(t),Ld(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Rn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?zi(t,!!i.multiple,r,!1):i.defaultValue!=null&&zi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)L_(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(k(166));if(n=Jn(xr.current),Jn(Ht.current),fo(e)){if(i=e.stateNode,n=e.memoizedProps,i[Bt]=e,(r=i.nodeValue!==n)&&(t=rt,t!==null))switch(t.tag){case 3:ho(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bt]=e,e.stateNode=i}return Re(e),null;case 13:if(ie(oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&st!==null&&e.mode&1&&!(e.flags&128))e_(),Xi(),e.flags|=98560,r=!1;else if(r=fo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(k(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[Bt]=e}else Xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),r=!1}else Et!==null&&(ou(Et),Et=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?xe===0&&(xe=3):Th())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return Ji(),Zc(t,e),t===null&&mr(e.stateNode.containerInfo),Re(e),null;case 10:return uh(e.type._context),Re(e),null;case 17:return Je(e.type)&&ll(),Re(e),null;case 19:if(ie(oe),r=e.memoizedState,r===null)return Re(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Ss(r,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pl(t),o!==null){for(e.flags|=128,Ss(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}r.tail!==null&&pe()>ts&&(e.flags|=128,i=!0,Ss(r,!1),e.lanes=4194304)}else{if(!i)if(t=pl(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ss(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!se)return Re(e),null}else 2*pe()-r.renderingStartTime>ts&&n!==1073741824&&(e.flags|=128,i=!0,Ss(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pe(),e.sibling=null,n=oe.current,Z(oe,i?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return bh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?it&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Tw(t,e){switch(oh(e),e.tag){case 1:return Je(e.type)&&ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),ie(Ze),ie(Be),gh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ph(e),null;case 13:if(ie(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(oe),null;case 4:return Ji(),null;case 10:return uh(e.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var mo=!1,Ae=!1,Iw=typeof WeakSet=="function"?WeakSet:Set,P=null;function Oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ce(t,e,i)}else n.current=null}function Jc(t,e,n){try{n()}catch(i){ce(t,e,i)}}var bf=!1;function Pw(t,e){if(Lc=il,t=Hm(),sh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==r||i!==0&&h.nodeType!==3||(a=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===s&&(l=o),d===r&&++u===i&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fc={focusedElem:t,selectionRange:n},il=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,v=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:St(e.type,_),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(x){ce(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return p=bf,bf=!1,p}function Ks(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Jc(e,n,r)}s=s.next}while(s!==i)}}function na(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function eu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function F_(t){var e=t.alternate;e!==null&&(t.alternate=null,F_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[yr],delete e[Wc],delete e[hw],delete e[dw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z_(t){return t.tag===5||t.tag===3||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(i!==4&&(t=t.child,t!==null))for(tu(t,e,n),t=t.sibling;t!==null;)tu(t,e,n),t=t.sibling}function nu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(nu(t,e,n),t=t.sibling;t!==null;)nu(t,e,n),t=t.sibling}var Ie=null,Ct=!1;function hn(t,e,n){for(n=n.child;n!==null;)B_(t,e,n),n=n.sibling}function B_(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:Ae||Oi(n,e);case 6:var i=Ie,s=Ct;Ie=null,hn(t,e,n),Ie=i,Ct=s,Ie!==null&&(Ct?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Ct?(t=Ie,n=n.stateNode,t.nodeType===8?Fa(t.parentNode,n):t.nodeType===1&&Fa(t,n),fr(t)):Fa(Ie,n.stateNode));break;case 4:i=Ie,s=Ct,Ie=n.stateNode.containerInfo,Ct=!0,hn(t,e,n),Ie=i,Ct=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Jc(n,e,o),s=s.next}while(s!==i)}hn(t,e,n);break;case 1:if(!Ae&&(Oi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){ce(n,e,l)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(Ae=(i=Ae)||n.memoizedState!==null,hn(t,e,n),Ae=i):hn(t,e,n);break;default:hn(t,e,n)}}function If(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iw),e.forEach(function(i){var s=zw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Ct=!1;break e;case 3:Ie=l.stateNode.containerInfo,Ct=!0;break e;case 4:Ie=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Ie===null)throw Error(k(160));B_(r,o,s),Ie=null,Ct=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ce(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W_(e,t),e=e.sibling}function W_(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Ot(t),i&4){try{Ks(3,t,t.return),na(3,t)}catch(_){ce(t,t.return,_)}try{Ks(5,t,t.return)}catch(_){ce(t,t.return,_)}}break;case 1:wt(e,t),Ot(t),i&512&&n!==null&&Oi(n,n.return);break;case 5:if(wt(e,t),Ot(t),i&512&&n!==null&&Oi(n,n.return),t.flags&32){var s=t.stateNode;try{cr(s,"")}catch(_){ce(t,t.return,_)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&am(s,r),bc(l,o);var c=bc(l,r);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?fm(s,h):u==="dangerouslySetInnerHTML"?hm(s,h):u==="children"?cr(s,h):$u(s,u,h,c)}switch(l){case"input":wc(s,r);break;case"textarea":cm(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?zi(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?zi(s,!!r.multiple,r.defaultValue,!0):zi(s,!!r.multiple,r.multiple?[]:"",!1))}s[yr]=r}catch(_){ce(t,t.return,_)}}break;case 6:if(wt(e,t),Ot(t),i&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(_){ce(t,t.return,_)}}break;case 3:if(wt(e,t),Ot(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(e.containerInfo)}catch(_){ce(t,t.return,_)}break;case 4:wt(e,t),Ot(t);break;case 13:wt(e,t),Ot(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Eh=pe())),i&4&&If(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(c=Ae)||u,wt(e,t),Ae=c):wt(e,t),Ot(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(P=t,u=t.child;u!==null;){for(h=P=u;P!==null;){switch(d=P,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ks(4,d,d.return);break;case 1:Oi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){ce(i,n,_)}}break;case 5:Oi(d,d.return);break;case 22:if(d.memoizedState!==null){Nf(h);continue}}f!==null?(f.return=d,P=f):Nf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=dm("display",o))}catch(_){ce(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){ce(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(e,t),Ot(t),i&4&&If(t);break;case 21:break;default:wt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z_(n)){var i=n;break e}n=n.return}throw Error(k(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(cr(s,""),i.flags&=-33);var r=Tf(t);nu(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Tf(t);tu(t,l,o);break;default:throw Error(k(161))}}catch(a){ce(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nw(t,e,n){P=t,H_(t)}function H_(t,e,n){for(var i=(t.mode&1)!==0;P!==null;){var s=P,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||mo;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=mo;var c=Ae;if(mo=o,(Ae=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Mf(s):a!==null?(a.return=o,P=a):Mf(s);for(;r!==null;)P=r,H_(r),r=r.sibling;P=s,mo=l,Ae=c}Pf(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,P=r):Pf(t)}}function Pf(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||na(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ae)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&ff(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ff(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&fr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Ae||e.flags&512&&eu(e)}catch(d){ce(e,e.return,d)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Nf(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Mf(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{na(4,e)}catch(a){ce(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){ce(e,s,a)}}var r=e.return;try{eu(e)}catch(a){ce(e,r,a)}break;case 5:var o=e.return;try{eu(e)}catch(a){ce(e,o,a)}}}catch(a){ce(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Mw=Math.ceil,_l=cn.ReactCurrentDispatcher,Sh=cn.ReactCurrentOwner,mt=cn.ReactCurrentBatchConfig,V=0,be=null,_e=null,Pe=0,it=0,Ai=Bn(0),xe=0,Er=null,ci=0,ia=0,Ch=0,Qs=null,Ge=null,Eh=0,ts=1/0,Gt=null,yl=!1,iu=null,bn=null,_o=!1,vn=null,vl=0,qs=0,su=null,Uo=-1,$o=0;function Ve(){return V&6?pe():Uo!==-1?Uo:Uo=pe()}function Tn(t){return t.mode&1?V&2&&Pe!==0?Pe&-Pe:pw.transition!==null?($o===0&&($o=km()),$o):(t=G,t!==0||(t=window.event,t=t===void 0?16:Dm(t.type)),t):1}function Nt(t,e,n,i){if(50<qs)throw qs=0,su=null,Error(k(185));Hr(t,n,i),(!(V&2)||t!==be)&&(t===be&&(!(V&2)&&(ia|=n),xe===4&&_n(t,Pe)),et(t,i),n===1&&V===0&&!(e.mode&1)&&(ts=pe()+500,Jl&&Wn()))}function et(t,e){var n=t.callbackNode;px(t,e);var i=nl(t,t===be?Pe:0);if(i===0)n!==null&&Bd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Bd(n),e===1)t.tag===0?fw(Df.bind(null,t)):Xm(Df.bind(null,t)),cw(function(){!(V&6)&&Wn()}),n=null;else{switch(bm(i)){case 1:n=qu;break;case 4:n=Cm;break;case 16:n=tl;break;case 536870912:n=Em;break;default:n=tl}n=Q_(n,j_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j_(t,e){if(Uo=-1,$o=0,V&6)throw Error(k(327));var n=t.callbackNode;if(Vi()&&t.callbackNode!==n)return null;var i=nl(t,t===be?Pe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=xl(t,i);else{e=i;var s=V;V|=2;var r=U_();(be!==t||Pe!==e)&&(Gt=null,ts=pe()+500,ii(t,e));do try{Ow();break}catch(l){V_(t,l)}while(!0);ch(),_l.current=r,V=s,_e!==null?e=0:(be=null,Pe=0,e=xe)}if(e!==0){if(e===2&&(s=Mc(t),s!==0&&(i=s,e=ru(t,s))),e===1)throw n=Er,ii(t,0),_n(t,i),et(t,pe()),n;if(e===6)_n(t,i);else{if(s=t.current.alternate,!(i&30)&&!Dw(s)&&(e=xl(t,i),e===2&&(r=Mc(t),r!==0&&(i=r,e=ru(t,r))),e===1))throw n=Er,ii(t,0),_n(t,i),et(t,pe()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(k(345));case 2:Yn(t,Ge,Gt);break;case 3:if(_n(t,i),(i&130023424)===i&&(e=Eh+500-pe(),10<e)){if(nl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bc(Yn.bind(null,t,Ge,Gt),e);break}Yn(t,Ge,Gt);break;case 4:if(_n(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Pt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=pe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Mw(i/1960))-i,10<i){t.timeoutHandle=Bc(Yn.bind(null,t,Ge,Gt),i);break}Yn(t,Ge,Gt);break;case 5:Yn(t,Ge,Gt);break;default:throw Error(k(329))}}}return et(t,pe()),t.callbackNode===n?j_.bind(null,t):null}function ru(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=xl(t,e),t!==2&&(e=Ge,Ge=n,e!==null&&ou(e)),t}function ou(t){Ge===null?Ge=t:Ge.push.apply(Ge,t)}function Dw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Dt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~Ch,e&=~ia,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),i=1<<n;t[n]=-1,e&=~i}}function Df(t){if(V&6)throw Error(k(327));Vi();var e=nl(t,0);if(!(e&1))return et(t,pe()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var i=Mc(t);i!==0&&(e=i,n=ru(t,i))}if(n===1)throw n=Er,ii(t,0),_n(t,e),et(t,pe()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yn(t,Ge,Gt),et(t,pe()),null}function kh(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(ts=pe()+500,Jl&&Wn())}}function ui(t){vn!==null&&vn.tag===0&&!(V&6)&&Vi();var e=V;V|=1;var n=mt.transition,i=G;try{if(mt.transition=null,G=1,t)return t()}finally{G=i,mt.transition=n,V=e,!(V&6)&&Wn()}}function bh(){it=Ai.current,ie(Ai)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aw(n)),_e!==null)for(n=_e.return;n!==null;){var i=n;switch(oh(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ll();break;case 3:Ji(),ie(Ze),ie(Be),gh();break;case 5:ph(i);break;case 4:Ji();break;case 13:ie(oe);break;case 19:ie(oe);break;case 10:uh(i.type._context);break;case 22:case 23:bh()}n=n.return}if(be=t,_e=t=In(t.current,null),Pe=it=e,xe=0,Er=null,Ch=ia=ci=0,Ge=Qs=null,Zn!==null){for(e=0;e<Zn.length;e++)if(n=Zn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Zn=null}return t}function V_(t,e){do{var n=_e;try{if(ch(),Ho.current=ml,gl){for(var i=le.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}gl=!1}if(ai=0,Se=ye=le=null,Gs=!1,wr=0,Sh.current=null,n===null||n.return===null){xe=1,Er=e,_e=null;break}e:{var r=t,o=n.return,l=n,a=e;if(e=Pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vf(o);if(f!==null){f.flags&=-257,xf(f,o,l,r,e),f.mode&1&&yf(r,c,e),e=f,a=c;var p=e.updateQueue;if(p===null){var _=new Set;_.add(a),e.updateQueue=_}else p.add(a);break e}else{if(!(e&1)){yf(r,c,e),Th();break e}a=Error(k(426))}}else if(se&&l.mode&1){var v=vf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),xf(v,o,l,r,e),lh(es(a,l));break e}}r=a=es(a,l),xe!==4&&(xe=2),Qs===null?Qs=[r]:Qs.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=b_(r,a,e);df(r,g);break e;case 1:l=a;var m=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(bn===null||!bn.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var x=T_(r,l,e);df(r,x);break e}}r=r.return}while(r!==null)}Y_(n)}catch(w){e=w,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function U_(){var t=_l.current;return _l.current=ml,t===null?ml:t}function Th(){(xe===0||xe===3||xe===2)&&(xe=4),be===null||!(ci&268435455)&&!(ia&268435455)||_n(be,Pe)}function xl(t,e){var n=V;V|=2;var i=U_();(be!==t||Pe!==e)&&(Gt=null,ii(t,e));do try{Rw();break}catch(s){V_(t,s)}while(!0);if(ch(),V=n,_l.current=i,_e!==null)throw Error(k(261));return be=null,Pe=0,xe}function Rw(){for(;_e!==null;)$_(_e)}function Ow(){for(;_e!==null&&!rx();)$_(_e)}function $_(t){var e=K_(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?Y_(t):_e=e,Sh.current=null}function Y_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tw(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,_e=null;return}}else if(n=bw(n,e,it),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);xe===0&&(xe=5)}function Yn(t,e,n){var i=G,s=mt.transition;try{mt.transition=null,G=1,Aw(t,e,n,i)}finally{mt.transition=s,G=i}return null}function Aw(t,e,n,i){do Vi();while(vn!==null);if(V&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(gx(t,r),t===be&&(_e=be=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_o||(_o=!0,Q_(tl,function(){return Vi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=mt.transition,mt.transition=null;var o=G;G=1;var l=V;V|=4,Sh.current=null,Pw(t,n),W_(n,t),tw(Fc),il=!!Lc,Fc=Lc=null,t.current=n,Nw(n),ox(),V=l,G=o,mt.transition=r}else t.current=n;if(_o&&(_o=!1,vn=t,vl=s),r=t.pendingLanes,r===0&&(bn=null),cx(n.stateNode),et(t,pe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(yl)throw yl=!1,t=iu,iu=null,t;return vl&1&&t.tag!==0&&Vi(),r=t.pendingLanes,r&1?t===su?qs++:(qs=0,su=t):qs=0,Wn(),null}function Vi(){if(vn!==null){var t=bm(vl),e=mt.transition,n=G;try{if(mt.transition=null,G=16>t?16:t,vn===null)var i=!1;else{if(t=vn,vn=null,vl=0,V&6)throw Error(k(331));var s=V;for(V|=4,P=t.current;P!==null;){var r=P,o=r.child;if(P.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var u=P;switch(u.tag){case 0:case 11:case 15:Ks(8,u,r)}var h=u.child;if(h!==null)h.return=u,P=h;else for(;P!==null;){u=P;var d=u.sibling,f=u.return;if(F_(u),u===c){P=null;break}if(d!==null){d.return=f,P=d;break}P=f}}}var p=r.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}P=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,P=o;else e:for(;P!==null;){if(r=P,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ks(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,P=g;break e}P=r.return}}var m=t.current;for(P=m;P!==null;){o=P;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,P=y;else e:for(o=m;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:na(9,l)}}catch(w){ce(l,l.return,w)}if(l===o){P=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,P=x;break e}P=l.return}}if(V=s,Wn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Kl,t)}catch{}i=!0}return i}finally{G=n,mt.transition=e}}return!1}function Rf(t,e,n){e=es(n,e),e=b_(t,e,1),t=kn(t,e,1),e=Ve(),t!==null&&(Hr(t,1,e),et(t,e))}function ce(t,e,n){if(t.tag===3)Rf(t,t,n);else for(;e!==null;){if(e.tag===3){Rf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(bn===null||!bn.has(i))){t=es(n,t),t=T_(e,t,1),e=kn(e,t,1),t=Ve(),e!==null&&(Hr(e,1,t),et(e,t));break}}e=e.return}}function Lw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,be===t&&(Pe&n)===n&&(xe===4||xe===3&&(Pe&130023424)===Pe&&500>pe()-Eh?ii(t,0):Ch|=n),et(t,e)}function G_(t,e){e===0&&(t.mode&1?(e=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):e=1);var n=Ve();t=sn(t,e),t!==null&&(Hr(t,e,n),et(t,n))}function Fw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),G_(t,n)}function zw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(k(314))}i!==null&&i.delete(e),G_(t,n)}var K_;K_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ze.current)Qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qe=!1,kw(t,e,n);Qe=!!(t.flags&131072)}else Qe=!1,se&&e.flags&1048576&&Zm(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Vo(t,e),t=e.pendingProps;var s=qi(e,Be.current);ji(e,n),s=_h(null,e,i,t,s,n);var r=yh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(i)?(r=!0,al(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dh(e),s.updater=ta,e.stateNode=s,s._reactInternals=e,Yc(e,i,t,n),e=Qc(null,e,i,!0,r,n)):(e.tag=0,se&&r&&rh(e),je(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Vo(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Ww(i),t=St(i,t),s){case 0:e=Kc(null,e,i,t,n);break e;case 1:e=Cf(null,e,i,t,n);break e;case 11:e=wf(null,e,i,t,n);break e;case 14:e=Sf(null,e,i,St(i.type,t),n);break e}throw Error(k(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Kc(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Cf(t,e,i,s,n);case 3:e:{if(M_(e),t===null)throw Error(k(387));i=e.pendingProps,r=e.memoizedState,s=r.element,s_(t,e),fl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=es(Error(k(423)),e),e=Ef(t,e,i,n,s);break e}else if(i!==s){s=es(Error(k(424)),e),e=Ef(t,e,i,n,s);break e}else for(st=En(e.stateNode.containerInfo.firstChild),rt=e,se=!0,Et=null,n=n_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),i===s){e=rn(t,e,n);break e}je(t,e,i,n)}e=e.child}return e;case 5:return r_(e),t===null&&Vc(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,zc(i,s)?o=null:r!==null&&zc(i,r)&&(e.flags|=32),N_(t,e),je(t,e,o,n),e.child;case 6:return t===null&&Vc(e),null;case 13:return D_(t,e,n);case 4:return fh(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zi(e,null,i,n):je(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),wf(t,e,i,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Z(hl,i._currentValue),i._currentValue=o,r!==null)if(Dt(r.value,o)){if(r.children===s.children&&!Ze.current){e=rn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=Jt(-1,n&-n),a.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Uc(r.return,n,e),l.lanes|=n;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uc(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ji(e,n),s=_t(s),i=i(s),e.flags|=1,je(t,e,i,n),e.child;case 14:return i=e.type,s=St(i,e.pendingProps),s=St(i.type,s),Sf(t,e,i,s,n);case 15:return I_(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Vo(t,e),e.tag=1,Je(i)?(t=!0,al(e)):t=!1,ji(e,n),k_(e,i,s),Yc(e,i,s,n),Qc(null,e,i,!0,t,n);case 19:return R_(t,e,n);case 22:return P_(t,e,n)}throw Error(k(156,e.tag))};function Q_(t,e){return Sm(t,e)}function Bw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,n,i){return new Bw(t,e,n,i)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ww(t){if(typeof t=="function")return Ih(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gu)return 11;if(t===Ku)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yo(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")Ih(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ki:return si(n.children,s,r,e);case Yu:o=8,s|=8;break;case mc:return t=ft(12,n,e,s|2),t.elementType=mc,t.lanes=r,t;case _c:return t=ft(13,n,e,s),t.elementType=_c,t.lanes=r,t;case yc:return t=ft(19,n,e,s),t.elementType=yc,t.lanes=r,t;case rm:return sa(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case im:o=10;break e;case sm:o=9;break e;case Gu:o=11;break e;case Ku:o=14;break e;case pn:o=16,i=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=ft(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function si(t,e,n,i){return t=ft(7,t,i,e),t.lanes=n,t}function sa(t,e,n,i){return t=ft(22,t,i,e),t.elementType=rm,t.lanes=n,t.stateNode={isHidden:!1},t}function $a(t,e,n){return t=ft(6,t,null,e),t.lanes=n,t}function Ya(t,e,n){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hw(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ph(t,e,n,i,s,r,o,l,a){return t=new Hw(t,e,n,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ft(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(r),t}function jw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function q_(t){if(!t)return On;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Je(n))return qm(t,n,e)}return e}function X_(t,e,n,i,s,r,o,l,a){return t=Ph(n,i,!0,t,s,r,o,l,a),t.context=q_(null),n=t.current,i=Ve(),s=Tn(n),r=Jt(i,s),r.callback=e??null,kn(n,r,s),t.current.lanes=s,Hr(t,s,i),et(t,i),t}function ra(t,e,n,i){var s=e.current,r=Ve(),o=Tn(s);return n=q_(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=kn(s,e,o),t!==null&&(Nt(t,s,o,r),Wo(t,s,o)),o}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Of(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nh(t,e){Of(t,e),(t=t.alternate)&&Of(t,e)}function Vw(){return null}var Z_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mh(t){this._internalRoot=t}oa.prototype.render=Mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));ra(t,e,null,null)};oa.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){ra(null,t,null,null)}),e[nn]=null}};function oa(t){this._internalRoot=t}oa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mn.length&&e!==0&&e<mn[n].priority;n++);mn.splice(n,0,t),n===0&&Mm(t)}};function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function la(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Af(){}function Uw(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=wl(o);r.call(c)}}var o=X_(e,i,t,0,null,!1,!1,"",Af);return t._reactRootContainer=o,t[nn]=o.current,mr(t.nodeType===8?t.parentNode:t),ui(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var c=wl(a);l.call(c)}}var a=Ph(t,0,!1,null,null,!1,!1,"",Af);return t._reactRootContainer=a,t[nn]=a.current,mr(t.nodeType===8?t.parentNode:t),ui(function(){ra(e,a,n,i)}),a}function aa(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=wl(o);l.call(a)}}ra(e,o,t,s)}else o=Uw(n,e,t,s,i);return wl(o)}Tm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=As(e.pendingLanes);n!==0&&(Xu(e,n|1),et(e,pe()),!(V&6)&&(ts=pe()+500,Wn()))}break;case 13:ui(function(){var i=sn(t,1);if(i!==null){var s=Ve();Nt(i,t,1,s)}}),Nh(t,1)}};Zu=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Ve();Nt(e,t,134217728,n)}Nh(t,134217728)}};Im=function(t){if(t.tag===13){var e=Tn(t),n=sn(t,e);if(n!==null){var i=Ve();Nt(n,t,e,i)}Nh(t,e)}};Pm=function(){return G};Nm=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Ic=function(t,e,n){switch(e){case"input":if(wc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Zl(i);if(!s)throw Error(k(90));lm(i),wc(i,s)}}}break;case"textarea":cm(t,n);break;case"select":e=n.value,e!=null&&zi(t,!!n.multiple,e,!1)}};mm=kh;_m=ui;var $w={usingClientEntryPoint:!1,Events:[Vr,Pi,Zl,pm,gm,kh]},Cs={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yw={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xm(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Kl=yo.inject(Yw),Wt=yo}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;at.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(e))throw Error(k(200));return jw(t,e,null,n)};at.createRoot=function(t,e){if(!Dh(t))throw Error(k(299));var n=!1,i="",s=Z_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ph(t,1,!1,null,null,n,!1,i,s),t[nn]=e.current,mr(t.nodeType===8?t.parentNode:t),new Mh(e)};at.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=xm(e),t=t===null?null:t.stateNode,t};at.flushSync=function(t){return ui(t)};at.hydrate=function(t,e,n){if(!la(e))throw Error(k(200));return aa(null,t,e,!0,n)};at.hydrateRoot=function(t,e,n){if(!Dh(t))throw Error(k(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Z_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=X_(e,null,t,1,n??null,s,!1,r,o),t[nn]=e.current,mr(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new oa(e)};at.render=function(t,e,n){if(!la(e))throw Error(k(200));return aa(null,t,e,!1,n)};at.unmountComponentAtNode=function(t){if(!la(t))throw Error(k(40));return t._reactRootContainer?(ui(function(){aa(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};at.unstable_batchedUpdates=kh;at.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!la(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return aa(t,e,n,!1,i)};at.version="18.3.1-next-f1338f8080-20240426";function J_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J_)}catch(t){console.error(t)}}J_(),Jg.exports=at;var Gw=Jg.exports,ey,Lf=Gw;ey=Lf.createRoot,Lf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rh=(t,e)=>{const n=ue.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,...c},u)=>ue.createElement("svg",{ref:u,...Kw,width:s,height:s,stroke:i,strokeWidth:o?Number(r)*24/Number(s):r,className:["lucide",`lucide-${Qw(t)}`,l].join(" "),...c},[...e.map(([h,d])=>ue.createElement(h,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Rh("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Rh("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Rh("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),ty=({children:t,className:e=""})=>M.jsx("div",{className:`bg-white rounded-xl shadow-md ${e}`,children:t}),Ga=({title:t,value:e,unit:n,icon:i})=>M.jsx(ty,{className:"p-6 bg-white rounded-xl shadow-lg",children:M.jsx("div",{className:"flex items-center justify-between",children:M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:t}),M.jsxs("div",{className:"flex items-baseline space-x-2",children:[M.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e}),M.jsx("span",{className:"text-gray-500",children:n})]})]})]})})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $r(t){return t+.5|0}const xn=(t,e,n)=>Math.max(Math.min(t,n),e);function Fs(t){return xn($r(t*2.55),0,255)}function Pn(t){return xn($r(t*255),0,255)}function Qt(t){return xn($r(t/2.55)/100,0,1)}function Ff(t){return xn($r(t*100),0,100)}const ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lu=[..."0123456789ABCDEF"],Jw=t=>lu[t&15],e1=t=>lu[(t&240)>>4]+lu[t&15],vo=t=>(t&240)>>4===(t&15),t1=t=>vo(t.r)&&vo(t.g)&&vo(t.b)&&vo(t.a);function n1(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ut[t[1]]*17,g:255&ut[t[2]]*17,b:255&ut[t[3]]*17,a:e===5?ut[t[4]]*17:255}:(e===7||e===9)&&(n={r:ut[t[1]]<<4|ut[t[2]],g:ut[t[3]]<<4|ut[t[4]],b:ut[t[5]]<<4|ut[t[6]],a:e===9?ut[t[7]]<<4|ut[t[8]]:255})),n}const i1=(t,e)=>t<255?e(t):"";function s1(t){var e=t1(t)?Jw:e1;return t?"#"+e(t.r)+e(t.g)+e(t.b)+i1(t.a,e):void 0}const r1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ny(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function o1(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function l1(t,e,n){const i=ny(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function a1(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Oh(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),l=(r+o)/2;let a,c,u;return r!==o&&(u=r-o,c=l>.5?u/(2-r-o):u/(r+o),a=a1(n,i,s,u,r),a=a*60+.5),[a|0,c||0,l]}function Ah(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Pn)}function Lh(t,e,n){return Ah(ny,t,e,n)}function c1(t,e,n){return Ah(l1,t,e,n)}function u1(t,e,n){return Ah(o1,t,e,n)}function iy(t){return(t%360+360)%360}function h1(t){const e=r1.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Fs(+e[5]):Pn(+e[5]));const s=iy(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=c1(s,r,o):e[1]==="hsv"?i=u1(s,r,o):i=Lh(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function d1(t,e){var n=Oh(t);n[0]=iy(n[0]+e),n=Lh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function f1(t){if(!t)return;const e=Oh(t),n=e[0],i=Ff(e[1]),s=Ff(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Qt(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const zf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function p1(){const t={},e=Object.keys(Bf),n=Object.keys(zf);let i,s,r,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,zf[r]);r=parseInt(Bf[o],16),t[l]=[r>>16&255,r>>8&255,r&255]}return t}let xo;function g1(t){xo||(xo=p1(),xo.transparent=[0,0,0,0]);const e=xo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const m1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _1(t){const e=m1.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Fs(o):xn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Fs(i):xn(i,0,255)),s=255&(e[4]?Fs(s):xn(s,0,255)),r=255&(e[6]?Fs(r):xn(r,0,255)),{r:i,g:s,b:r,a:n}}}function y1(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Qt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ka=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Si=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function v1(t,e,n){const i=Si(Qt(t.r)),s=Si(Qt(t.g)),r=Si(Qt(t.b));return{r:Pn(Ka(i+n*(Si(Qt(e.r))-i))),g:Pn(Ka(s+n*(Si(Qt(e.g))-s))),b:Pn(Ka(r+n*(Si(Qt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function wo(t,e,n){if(t){let i=Oh(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Lh(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function sy(t,e){return t&&Object.assign(e||{},t)}function Wf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pn(t[3]))):(e=sy(t,{r:0,g:0,b:0,a:1}),e.a=Pn(e.a)),e}function x1(t){return t.charAt(0)==="r"?_1(t):h1(t)}class kr{constructor(e){if(e instanceof kr)return e;const n=typeof e;let i;n==="object"?i=Wf(e):n==="string"&&(i=n1(e)||g1(e)||x1(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=sy(this._rgb);return e&&(e.a=Qt(e.a)),e}set rgb(e){this._rgb=Wf(e)}rgbString(){return this._valid?y1(this._rgb):void 0}hexString(){return this._valid?s1(this._rgb):void 0}hslString(){return this._valid?f1(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,l=2*o-1,a=i.a-s.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=v1(this._rgb,e._rgb,n)),this}clone(){return new kr(this.rgb)}alpha(e){return this._rgb.a=Pn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$r(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wo(this._rgb,2,e),this}darken(e){return wo(this._rgb,2,-e),this}saturate(e){return wo(this._rgb,1,e),this}desaturate(e){return wo(this._rgb,1,-e),this}rotate(e){return d1(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ut(){}const w1=(()=>{let t=0;return()=>t++})();function he(t){return t==null}function Ee(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function U(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function At(t,e){return vt(t)?t:e}function j(t,e){return typeof t>"u"?e:t}const S1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Y(t,e,n,i){let s,r,o;if(Ee(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(U(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Sl(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Cl(t){if(Ee(t))return t.map(Cl);if(U(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Cl(t[n[s]]);return e}return t}function ry(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function C1(t,e,n,i){if(!ry(t))return;const s=e[t],r=n[t];U(s)&&U(r)?br(s,r,i):e[t]=Cl(r)}function br(t,e,n){const i=Ee(e)?e:[e],s=i.length;if(!U(t))return t;n=n||{};const r=n.merger||C1;let o;for(let l=0;l<s;++l){if(o=i[l],!U(o))continue;const a=Object.keys(o);for(let c=0,u=a.length;c<u;++c)r(a[c],t,o,n)}return t}function Xs(t,e){return br(t,e,{merger:E1})}function E1(t,e,n){if(!ry(t))return;const i=e[t],s=n[t];U(i)&&U(s)?Xs(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Cl(s))}const Hf={"":t=>t,x:t=>t.x,y:t=>t.y};function k1(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function b1(t){const e=k1(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function El(t,e){return(Hf[e]||(Hf[e]=b1(e)))(t)}function Fh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const kl=t=>typeof t<"u",An=t=>typeof t=="function",jf=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function T1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Te=Math.PI,jt=2*Te,I1=jt+Te,bl=Number.POSITIVE_INFINITY,P1=Te/180,bt=Te/2,jn=Te/4,Vf=Te*2/3,au=Math.log10,ns=Math.sign;function Zs(t,e,n){return Math.abs(t-e)<n}function Uf(t){const e=Math.round(t);t=Zs(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(au(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function N1(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Tr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function M1(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function D1(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ei(t){return t*(Te/180)}function R1(t){return t*(180/Te)}function $f(t){if(!vt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function O1(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Te&&(r+=jt),{angle:r,distance:s}}function cu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A1(t,e){return(t-e+I1)%jt-Te}function fn(t){return(t%jt+jt)%jt}function oy(t,e,n,i){const s=fn(t),r=fn(e),o=fn(n),l=fn(r-s),a=fn(o-s),c=fn(s-r),u=fn(s-o);return s===r||s===o||i&&r===o||l>a&&c<u}function pt(t,e,n){return Math.max(e,Math.min(n,t))}function L1(t){return pt(t,-32768,32767)}function zs(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function zh(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const ti=(t,e,n,i)=>zh(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),F1=(t,e,n)=>zh(t,n,i=>t[i][e]>=n);function z1(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const ly=["push","pop","shift","splice","unshift"];function B1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ly.forEach(n=>{const i="_onData"+Fh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),o}})})}function Yf(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(ly.forEach(r=>{delete t[r]}),delete t._chartjs)}function W1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ay=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function cy(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,ay.call(window,()=>{i=!1,t.apply(e,n)}))}}function H1(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Bh=t=>t==="start"?"left":t==="end"?"right":"center",Oe=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,j1=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function V1(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:l}=t,a=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=pt(Math.min(ti(l,a,c).lo,n?i:ti(e,a,o.getPixelForValue(c)).lo),0,i-1)),d?r=pt(Math.max(ti(l,o.axis,u,!0).hi+1,n?0:ti(e,a,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function U1(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const So=t=>t===0||t===1,Gf=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*jt/n)),Kf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*jt/n)+1,Js={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*bt)+1,easeOutSine:t=>Math.sin(t*bt),easeInOutSine:t=>-.5*(Math.cos(Te*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>So(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>So(t)?t:Gf(t,.075,.3),easeOutElastic:t=>So(t)?t:Kf(t,.075,.3),easeInOutElastic(t){return So(t)?t:t<.5?.5*Gf(t*2,.1125,.45):.5+.5*Kf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Js.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Js.easeInBounce(t*2)*.5:Js.easeOutBounce(t*2-1)*.5+.5};function Wh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Qf(t){return Wh(t)?t:new kr(t)}function Qa(t){return Wh(t)?t:new kr(t).saturate(.5).darken(.1).hexString()}const $1=["x","y","borderWidth","radius","tension"],Y1=["color","borderColor","backgroundColor"];function G1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Y1},numbers:{type:"number",properties:$1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function K1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qf=new Map;function Q1(t,e){e=e||{};const n=t+JSON.stringify(e);let i=qf.get(n);return i||(i=new Intl.NumberFormat(t,e),qf.set(n,i)),i}function uy(t,e,n){return Q1(e,n).format(t)}const hy={values(t){return Ee(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=q1(t,n)}const o=au(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),a={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),uy(t,i,a)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(au(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?hy.numeric.call(this,t,e,n):""}};function q1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var dy={formatters:hy};function X1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const hi=Object.create(null),uu=Object.create(null);function er(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function qa(t,e,n){return typeof e=="string"?br(er(t,e),n):br(er(t,""),e)}class Z1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Qa(s.backgroundColor),this.hoverBorderColor=(i,s)=>Qa(s.borderColor),this.hoverColor=(i,s)=>Qa(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return qa(this,e,n)}get(e){return er(this,e)}describe(e,n){return qa(uu,e,n)}override(e,n){return qa(hi,e,n)}route(e,n,i,s){const r=er(this,e),o=er(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],c=o[s];return U(a)?Object.assign({},c,a):j(a,c)},set(a){this[l]=a}}})}apply(e){e.forEach(n=>n(this))}}var ge=new Z1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G1,K1,X1]);function J1(t){return!t||he(t.size)||he(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xf(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Vn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function Zf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function hu(t,e,n,i){fy(t,e,n,i,null)}function fy(t,e,n,i,s){let r,o,l,a,c,u,h,d;const f=e.pointStyle,p=e.rotation,_=e.radius;let v=(p||0)*P1;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,_,0,0,jt):t.arc(n,i,_,0,jt),t.closePath();break;case"triangle":u=s?s/2:_,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=Vf,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=Vf,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),t.closePath();break;case"rectRounded":c=_*.516,a=_-c,o=Math.cos(v+jn)*a,h=Math.cos(v+jn)*(s?s/2-c:a),l=Math.sin(v+jn)*a,d=Math.sin(v+jn)*(s?s/2-c:a),t.arc(n-h,i-l,c,v-Te,v-bt),t.arc(n+d,i-o,c,v-bt,v),t.arc(n+h,i+l,c,v,v+bt),t.arc(n-d,i+o,c,v+bt,v+Te),t.closePath();break;case"rect":if(!p){a=Math.SQRT1_2*_,u=s?s/2:a,t.rect(n-u,i-a,2*u,2*a);break}v+=jn;case"rectRot":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+d,i-o),t.lineTo(n+h,i+l),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=jn;case"cross":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=jn,h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(v)*_,l=Math.sin(v)*_,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:_),i+Math.sin(v)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ir(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Hh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jh(t){t.restore()}function eS(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function tS(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function nS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),he(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function iS(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,a=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(a+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function sS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Pr(t,e,n,i,s,r={}){const o=Ee(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let a,c;for(t.save(),t.font=s.string,nS(t,r),a=0;a<o.length;++a)c=o[a],r.backdrop&&sS(t,r.backdrop),l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),he(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),iS(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function du(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Te,Te,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Te,bt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,bt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-bt,!0),t.lineTo(n+o.topLeft,i)}const rS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lS(t,e){const n=(""+t).match(rS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const aS=t=>+t||0;function py(t,e){const n={},i=U(e),s=i?Object.keys(e):e,r=U(t)?i?o=>j(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=aS(r(o));return n}function cS(t){return py(t,{top:"y",right:"x",bottom:"y",left:"x"})}function tr(t){return py(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(t){const e=cS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ze(t,e){t=t||{},e=e||ge.font;let n=j(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=j(t.style,e.style);i&&!(""+i).match(oS)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:j(t.family,e.family),lineHeight:lS(j(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:j(t.weight,e.weight),string:""};return s.string=J1(s),s}function Co(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function uS(t,e,n){const{min:i,max:s}=t,r=S1(e,(s-i)/2),o=(l,a)=>n&&l===0?0:l+a;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function yi(t,e){return Object.assign(Object.create(t),e)}function Vh(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=yy("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>Vh([l,...t],e,r,i)};return new Proxy(o,{deleteProperty(l,a){return delete l[a],delete l._keys,delete t[0][a],!0},get(l,a){return my(l,a,()=>yS(a,e,t,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,a){return ep(l).includes(a)},ownKeys(l){return ep(l)},set(l,a,c){const u=l._storage||(l._storage=s());return l[a]=u[a]=c,delete l._keys,!0}})}function is(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:gy(t,i),setContext:r=>is(t,r,n,i),override:r=>is(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,l){return my(r,o,()=>dS(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,l){return t[o]=l,delete r[o],!0}})}function gy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:An(n)?n:()=>n,isIndexable:An(i)?i:()=>i}}const hS=(t,e)=>t?t+Fh(e):e,Uh=(t,e)=>U(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function my(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function dS(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let l=i[e];return An(l)&&o.isScriptable(e)&&(l=fS(e,l,t,n)),Ee(l)&&l.length&&(l=pS(e,l,t,o.isIndexable)),Uh(e,l)&&(l=is(l,s,r&&r[e],o)),l}function fS(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let a=e(r,o||i);return l.delete(t),Uh(t,a)&&(a=$h(s._scopes,s,t,a)),a}function pS(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(U(e[0])){const a=e,c=s._scopes.filter(u=>u!==a);e=[];for(const u of a){const h=$h(c,s,t,u);e.push(is(h,r,o&&o[t],l))}}return e}function _y(t,e,n){return An(t)?t(e,n):t}const gS=(t,e)=>t===!0?e:typeof t=="string"?El(e,t):void 0;function mS(t,e,n,i,s){for(const r of e){const o=gS(n,r);if(o){t.add(o);const l=_y(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function $h(t,e,n,i){const s=e._rootScopes,r=_y(e._fallback,n,i),o=[...t,...s],l=new Set;l.add(i);let a=Jf(l,o,n,r||n,i);return a===null||typeof r<"u"&&r!==n&&(a=Jf(l,o,r,a,i),a===null)?!1:Vh(Array.from(l),[""],s,r,()=>_S(e,n,i))}function Jf(t,e,n,i,s){for(;n;)n=mS(t,e,n,i,s);return n}function _S(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Ee(s)&&U(n)?n:s||{}}function yS(t,e,n,i){let s;for(const r of e)if(s=yy(hS(r,t),n),typeof s<"u")return Uh(t,s)?$h(n,i,t,s):s}function yy(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function ep(t){let e=t._keys;return e||(e=t._keys=vS(t._scopes)),e}function vS(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const xS=Number.EPSILON||1e-14,ss=(t,e)=>e<t.length&&!t[e].skip&&t[e],vy=t=>t==="x"?"y":"x";function wS(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,l=cu(r,s),a=cu(o,r);let c=l/(l+a),u=a/(l+a);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function SS(t,e,n){const i=t.length;let s,r,o,l,a,c=ss(t,0);for(let u=0;u<i-1;++u)if(a=c,c=ss(t,u+1),!(!a||!c)){if(Zs(e[u],0,xS)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function CS(t,e,n="x"){const i=vy(n),s=t.length;let r,o,l,a=ss(t,0);for(let c=0;c<s;++c){if(o=l,l=a,a=ss(t,c+1),!l)continue;const u=l[n],h=l[i];o&&(r=(u-o[n])/3,l[`cp1${n}`]=u-r,l[`cp1${i}`]=h-r*e[c]),a&&(r=(a[n]-u)/3,l[`cp2${n}`]=u+r,l[`cp2${i}`]=h+r*e[c])}}function ES(t,e="x"){const n=vy(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,l,a,c=ss(t,0);for(o=0;o<i;++o)if(l=a,a=c,c=ss(t,o+1),!!a){if(c){const u=c[e]-a[e];s[o]=u!==0?(c[n]-a[n])/u:0}r[o]=l?c?ns(s[o-1])!==ns(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}SS(t,s,r),CS(t,r,e)}function Eo(t,e,n){return Math.max(Math.min(t,n),e)}function kS(t,e){let n,i,s,r,o,l=Ir(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=l,l=n<i-1&&Ir(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Eo(s.cp1x,e.left,e.right),s.cp1y=Eo(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Eo(s.cp2x,e.left,e.right),s.cp2y=Eo(s.cp2y,e.top,e.bottom)))}function bS(t,e,n,i,s){let r,o,l,a;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ES(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)l=t[r],a=wS(c,l,t[Math.min(r+1,o-(i?0:1))%o],e.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,c=l}e.capBezierPoints&&kS(t,n)}function Yh(){return typeof window<"u"&&typeof document<"u"}function Gh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tl(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ca=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function TS(t,e){return ca(t).getPropertyValue(e)}const IS=["top","right","bottom","left"];function ri(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=IS[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const PS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function NS(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,l,a;if(PS(s,r,t.target))l=s,a=r;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,o=!0}return{x:l,y:a,box:o}}function Gn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=ca(n),r=s.boxSizing==="border-box",o=ri(s,"padding"),l=ri(s,"border","width"),{x:a,y:c,box:u}=NS(t,n),h=o.left+(u&&l.left),d=o.top+(u&&l.top);let{width:f,height:p}=e;return r&&(f-=o.width+l.width,p-=o.height+l.height),{x:Math.round((a-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function MS(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Gh(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),l=ca(r),a=ri(l,"border","width"),c=ri(l,"padding");e=o.width-c.width-a.width,n=o.height-c.height-a.height,i=Tl(l.maxWidth,r,"clientWidth"),s=Tl(l.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||bl,maxHeight:s||bl}}const ko=t=>Math.round(t*10)/10;function DS(t,e,n,i){const s=ca(t),r=ri(s,"margin"),o=Tl(s.maxWidth,t,"clientWidth")||bl,l=Tl(s.maxHeight,t,"clientHeight")||bl,a=MS(t,e,n);let{width:c,height:u}=a;if(s.boxSizing==="content-box"){const d=ri(s,"border","width"),f=ri(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=ko(Math.min(c,o,a.maxWidth)),u=ko(Math.min(u,l,a.maxHeight)),c&&!u&&(u=ko(c/2)),(e!==void 0||n!==void 0)&&i&&a.height&&u>a.height&&(u=a.height,c=ko(Math.floor(u*i))),{width:c,height:u}}function tp(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const RS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function np(t,e){const n=TS(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Kn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function OS(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function AS(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Kn(t,s,n),l=Kn(s,r,n),a=Kn(r,e,n),c=Kn(o,l,n),u=Kn(l,a,n);return Kn(c,u,n)}const LS=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},FS=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ui(t,e,n){return t?LS(e,n):FS()}function xy(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function wy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Sy(t){return t==="angle"?{between:oy,compare:A1,normalize:fn}:{between:zs,compare:(e,n)=>e-n,normalize:e=>e}}function ip({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function zS(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:l}=Sy(i),a=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=a,u+=a,d=0,f=a;d<f&&o(l(e[c%a][i]),s,r);++d)c--,u--;c%=a,u%=a}return u<c&&(u+=a),{start:c,end:u,loop:h,style:t.style}}function BS(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:l,between:a,normalize:c}=Sy(i),{start:u,end:h,loop:d,style:f}=zS(t,e,n),p=[];let _=!1,v=null,g,m,y;const x=()=>a(s,y,g)&&l(s,y)!==0,w=()=>l(r,g)===0||a(r,y,g),E=()=>_||x(),S=()=>!_||w();for(let C=u,N=u;C<=h;++C)m=e[C%o],!m.skip&&(g=c(m[i]),g!==y&&(_=a(g,s,r),v===null&&E()&&(v=l(g,s)===0?C:N),v!==null&&S()&&(p.push(ip({start:v,end:C,loop:d,count:o,style:f})),v=null),N=C,y=g));return v!==null&&p.push(ip({start:v,end:h,loop:d,count:o,style:f})),p}function WS(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=BS(i[s],t.points,e);r.length&&n.push(...r)}return n}function HS(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function jS(t,e,n,i){const s=t.length,r=[];let o=e,l=t[e],a;for(a=e+1;a<=n;++a){const c=t[a%s];c.skip||c.stop?l.skip||(i=!1,r.push({start:e%s,end:(a-1)%s,loop:i}),e=o=c.stop?a:null):(o=a,l.skip&&(e=a)),l=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function VS(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:l}=HS(n,s,r,i);if(i===!0)return sp(t,[{start:o,end:l,loop:r}],n,e);const a=l<o?l+s:l,c=!!t._fullLoop&&o===0&&l===s-1;return sp(t,jS(n,o,a,c),n,e)}function sp(t,e,n,i){return!i||!i.setContext||!n?e:US(t,e,n,i)}function US(t,e,n,i){const s=t._chart.getContext(),r=rp(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,a=n.length,c=[];let u=r,h=e[0].start,d=h;function f(p,_,v,g){const m=l?-1:1;if(p!==_){for(p+=a;n[p%a].skip;)p-=m;for(;n[_%a].skip;)_+=m;p%a!==_%a&&(c.push({start:p%a,end:_%a,loop:v,style:g}),u=g,h=_%a)}}for(const p of e){h=l?h:p.start;let _=n[h%a],v;for(d=h+1;d<=p.end;d++){const g=n[d%a];v=rp(i.setContext(yi(s,{type:"segment",p0:_,p1:g,p0DataIndex:(d-1)%a,p1DataIndex:d%a,datasetIndex:o}))),$S(v,u)&&f(h,d-1,p.loop,u),_=g,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function rp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $S(t,e){if(!e)return!1;const n=[],i=function(s,r){return Wh(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class YS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ay.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,l=!1,a;for(;o>=0;--o)a=r[o],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(r[o]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $t=new YS;const op="transparent",GS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Qf(t||op),s=i.valid&&Qf(e||op);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class KS{constructor(e,n,i,s){const r=n[i];s=Co([e.to,s,r,e.from]);const o=Co([e.from,r,s]);this._active=!0,this._fn=e.fn||GS[e.type||typeof o],this._easing=Js[e.easing]||Js.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Co([e.to,n,s,e.from]),this._from=Co([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,l=this._to;let a;if(this._active=r!==l&&(o||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}a=n/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(r,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Cy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!U(e))return;const n=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!U(r))return;const o={};for(const l of n)o[l]=r[l];(Ee(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,s=qS(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&QS(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let a;for(a=o.length-1;a>=0;--a){const c=o[a];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,l);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new KS(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return $t.add(this._chart,i),!0}}function QS(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function qS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lp(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function XS(t,e,n){if(n===!1)return!1;const i=lp(t,n),s=lp(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ZS(t){let e,n,i,s;return U(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Ey(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ap(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,l,a,c;if(e===null)return;let u=!1;for(o=0,l=s.length;o<l;++o){if(a=+s[o],a===n){if(u=!0,i.all)continue;break}c=t.values[a],vt(c)&&(r||e===0||ns(e)===ns(c))&&(e+=c)}return!u&&!i.all?0:e}function JS(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let a,c,u;for(a=0,c=o.length;a<c;++a)u=o[a],l[a]={[s]:u,[r]:t[u]};return l}function Xa(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function eC(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tC(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function nC(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function cp(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function up(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:l}=i,a=r.axis,c=o.axis,u=eC(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[a]:_,[c]:v}=p,g=p._stacks||(p._stacks={});d=g[c]=nC(s,u,_),d[l]=v,d._top=cp(d,o,!0,i.type),d._bottom=cp(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[l]=v}}function Za(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function iC(t,e){return yi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sC(t,e,n){return yi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Es(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Ja=t=>t==="reset"||t==="none",hp=(t,e)=>e?t:Object.assign({},t),rC=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ey(n,!0),values:null};class nr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xa(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Es(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=j(i.xAxisID,Za(e,"x")),o=n.yAxisID=j(i.yAxisID,Za(e,"y")),l=n.rAxisID=j(i.rAxisID,Za(e,"r")),a=n.indexAxis,c=n.iAxisID=s(a,r,o,l),u=n.vAxisID=s(a,o,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yf(this._data,this),e._stacked&&Es(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(U(n)){const s=this._cachedMeta;this._data=JS(n,s)}else if(i!==n){if(i){Yf(i,this);const s=this._cachedMeta;Es(s),s._parsed=[]}n&&Object.isExtensible(n)&&B1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Xa(n.vScale,n),n.stack!==i.stack&&(s=!0,Es(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(up(this,n._parsed),n._stacked=Xa(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,l=r.axis;let a=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{Ee(s[e])?d=this.parseArrayData(i,s,e,n):U(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],a&&(f()&&(a=!1),c=h);i._sorted=a}o&&up(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,l=r.axis,a=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[l]:u||r.parse(c[p],p),[a]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,l=new Array(s);let a,c,u,h;for(a=0,c=s;a<c;++a)u=a+i,h=n[u],l[a]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(El(f,l),d),y:o.parse(El(f,a),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],l={keys:Ey(s,!0),values:n._stacks[e.axis]._visualValues};return ap(l,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,o=ap(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,l=this._getOtherScale(e),a=rC(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=tC(l);let d,f;function p(){f=s[d];const _=f[l.axis];return!vt(f[e.axis])||u>_||h<_}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,a),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,a);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],vt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ZS(j(this.options.clip,XS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],l=this._drawStart||0,a=this._drawCount||s.length-l,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,l,a),u=l;u<l+a;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=sC(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=iC(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,l=r[o],a=this.enableOptionSharing&&kl(i);if(l)return hp(l,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(ge.elements[e]),p=()=>this.getContext(i,s,n),_=c.resolveNamedOptions(d,f,p,h);return _.$shared&&(_.$shared=a,r[o]=Object.freeze(hp(_,a))),_}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,l=r[o];if(l)return l;let a;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);a=u.createResolver(d,this.getContext(e,i,n))}const c=new Cy(s,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ja(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Ja(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ja(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let l;const a=c=>{for(c.length+=n,l=c.length-1;l>=o;l--)c[l]=c[l-n]};for(a(r),l=e;l<o;++l)r[l]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Es(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(nr,"defaults",{}),L(nr,"datasetElementType",null),L(nr,"dataElementType",null);class Go extends nr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:l,count:a}=V1(n,s,o);this._drawStart=l,this._drawCount=a,U1(n)&&(l=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,l,a,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=l.axis,{spanGaps:p,segment:_}=this.options,v=Tr(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||s==="none",m=n+i,y=e.length;let x=n>0&&this.getParsed(n-1);for(let w=0;w<y;++w){const E=e[w],S=g?E:{};if(w<n||w>=m){S.skip=!0;continue}const C=this.getParsed(w),N=he(C[f]),I=S[d]=o.getPixelForValue(C[d],w),D=S[f]=r||N?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,C,a):C[f],w);S.skip=isNaN(I)||isNaN(D)||N,S.stop=w>0&&Math.abs(C[d]-x[d])>v,_&&(S.parsed=C,S.raw=c.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,E.active?"active":s)),g||this.updateElement(E,w,S,s),x=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}L(Go,"id","line"),L(Go,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Go,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kh{constructor(e){L(this,"options");this.options=e||{}}static override(e){Object.assign(Kh.prototype,e)}init(){}formats(){return Un()}parse(){return Un()}format(){return Un()}add(){return Un()}diff(){return Un()}startOf(){return Un()}endOf(){return Un()}}var oC={_date:Kh};function lC(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,l=s._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&o&&r.length){const a=l._reversePixels?F1:ti;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=a(r,e,n-u),d=a(r,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return a(r,e,n)}return{lo:0,hi:r.length-1}}function Yr(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,a=r.length;l<a;++l){const{index:c,data:u}=r[l],{lo:h,hi:d}=lC(r[l],e,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function aC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ec(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Yr(t,n,e,function(l,a,c){!s&&!Ir(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&r.push({element:l,datasetIndex:a,index:c})},!0),r}function cC(t,e,n,i){let s=[];function r(o,l,a){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=O1(o,{x:e.x,y:e.y});oy(h,c,u)&&s.push({element:o,datasetIndex:l,index:a})}return Yr(t,n,e,r),s}function uC(t,e,n,i,s,r){let o=[];const l=aC(n);let a=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const v=l(e,p);v<a?(o=[{element:u,datasetIndex:h,index:d}],a=v):v===a&&o.push({element:u,datasetIndex:h,index:d})}return Yr(t,n,e,c),o}function tc(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?cC(t,e,n,s):uC(t,e,n,i,s,r)}function dp(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Yr(t,n,e,(a,c,u)=>{a[o]&&a[o](e[n],s)&&(r.push({element:a,datasetIndex:c,index:u}),l=l||a.inRange(e.x,e.y,s))}),i&&!l?[]:r}var hC={evaluateInteractionItems:Yr,modes:{index(t,e,n,i){const s=Gn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?ec(t,s,r,i,o):tc(t,s,r,!1,i,o),a=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&a.push({element:h,datasetIndex:c.index,index:u})}),a):[]},dataset(t,e,n,i){const s=Gn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?ec(t,s,r,i,o):tc(t,s,r,!1,i,o);if(l.length>0){const a=l[0].datasetIndex,c=t.getDatasetMeta(a).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:a,index:u})}return l},point(t,e,n,i){const s=Gn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return ec(t,s,r,i,o)},nearest(t,e,n,i){const s=Gn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return tc(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Gn(e,t);return dp(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Gn(e,t);return dp(t,s,"y",n.intersect,i)}}};const ky=["left","top","right","bottom"];function ks(t,e){return t.filter(n=>n.pos===e)}function fp(t,e){return t.filter(n=>ky.indexOf(n.pos)===-1&&n.box.axis===e)}function bs(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function dC(t){const e=[];let n,i,s,r,o,l;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:l});return e}function fC(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!ky.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function pC(t,e){const n=fC(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,l;for(r=0,o=t.length;r<o;++r){l=t[r];const{fullSize:a}=l.box,c=n[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*i:a&&e.availableWidth,l.height=s):(l.width=i,l.height=u?u*s:a&&e.availableHeight)}return n}function gC(t){const e=dC(t),n=bs(e.filter(c=>c.box.fullSize),!0),i=bs(ks(e,"left"),!0),s=bs(ks(e,"right")),r=bs(ks(e,"top"),!0),o=bs(ks(e,"bottom")),l=fp(e,"x"),a=fp(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(a).concat(o).concat(l),chartArea:ks(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:r.concat(o).concat(l)}}function pp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function by(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mC(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!U(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&by(o,r.getPadding());const l=Math.max(0,e.outerWidth-pp(o,t,"left","right")),a=Math.max(0,e.outerHeight-pp(o,t,"top","bottom")),c=l!==t.w,u=a!==t.h;return t.w=l,t.h=a,n.horizontal?{same:c,other:u}:{same:u,other:c}}function _C(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function yC(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Bs(t,e,n,i){const s=[];let r,o,l,a,c,u;for(r=0,o=t.length,c=0;r<o;++r){l=t[r],a=l.box,a.update(l.width||e.w,l.height||e.h,yC(l.horizontal,e));const{same:h,other:d}=mC(e,n,l,i);c|=h&&s.length,u=u||d,a.fullSize||s.push(l)}return c&&Bs(s,e,n,i)||u}function bo(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function gp(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const l of t){const a=l.box,c=i[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,d=c.size||a.height;kl(c.start)&&(o=c.start),a.fullSize?bo(a,s.left,o,n.outerWidth-s.right-s.left,d):bo(a,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=a.bottom}else{const h=e.h*u,d=c.size||a.width;kl(c.start)&&(r=c.start),a.fullSize?bo(a,r,s.top,d,n.outerHeight-s.bottom-s.top):bo(a,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=a.right}}e.x=r,e.y=o}var gt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=xt(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=gC(t.boxes),a=l.vertical,c=l.horizontal;Y(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=a.reduce((_,v)=>v.box.options&&v.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);by(d,xt(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=pC(a.concat(c),h);Bs(l.fullSize,f,h,p),Bs(a,f,h,p),Bs(c,f,h,p)&&Bs(a,f,h,p),_C(f),gp(l.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,gp(l.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Y(l.chartArea,_=>{const v=_.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Ty{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class vC extends Ty{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ko="$chartjs",xC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mp=t=>t===null||t==="";function wC(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ko]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mp(s)){const r=np(t,"width");r!==void 0&&(t.width=r)}if(mp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=np(t,"height");r!==void 0&&(t.height=r)}return t}const Iy=RS?{passive:!0}:!1;function SC(t,e,n){t&&t.addEventListener(e,n,Iy)}function CC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Iy)}function EC(t,e){const n=xC[t.type]||t.type,{x:i,y:s}=Gn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Il(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kC(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Il(l.addedNodes,i),o=o&&!Il(l.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function bC(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Il(l.removedNodes,i),o=o&&!Il(l.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Nr=new Map;let _p=0;function Py(){const t=window.devicePixelRatio;t!==_p&&(_p=t,Nr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function TC(t,e){Nr.size||window.addEventListener("resize",Py),Nr.set(t,e)}function IC(t){Nr.delete(t),Nr.size||window.removeEventListener("resize",Py)}function PC(t,e,n){const i=t.canvas,s=i&&Gh(i);if(!s)return;const r=cy((l,a)=>{const c=s.clientWidth;n(l,a),c<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,u=a.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),TC(t,r),o}function nc(t,e,n){n&&n.disconnect(),e==="resize"&&IC(t)}function NC(t,e,n){const i=t.canvas,s=cy(r=>{t.ctx!==null&&n(EC(r,t))},t);return SC(i,e,s),s}class MC extends Ty{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(wC(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Ko])return!1;const i=n[Ko].initial;["height","width"].forEach(r=>{const o=i[r];he(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Ko],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:kC,detach:bC,resize:PC}[n]||NC;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:nc,detach:nc,resize:nc}[n]||CC)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return DS(e,n,i,s)}isAttached(e){const n=e&&Gh(e);return!!(n&&n.isConnected)}}function DC(t){return!Yh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?vC:MC}class on{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Tr(this.x)&&Tr(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}L(on,"defaults",{}),L(on,"defaultRoutes");function RC(t,e){const n=t.options.ticks,i=OC(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?LC(e):[],o=r.length,l=r[0],a=r[o-1],c=[];if(o>s)return FC(e,c,r,o/s),c;const u=AC(r,e,s);if(o>0){let h,d;const f=o>1?Math.round((a-l)/(o-1)):null;for(To(e,c,u,he(f)?0:l-f,l),h=0,d=o-1;h<d;h++)To(e,c,u,r[h],r[h+1]);return To(e,c,u,a,he(f)?e.length:a+f),c}return To(e,c,u),c}function OC(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function AC(t,e,n){const i=zC(t),s=e.length/n;if(!i)return Math.max(s,1);const r=N1(i);for(let o=0,l=r.length-1;o<l;o++){const a=r[o];if(a>s)return a}return Math.max(s,1)}function LC(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function FC(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function To(t,e,n,i,s){const r=j(i,0),o=Math.min(j(s,t.length),t.length);let l=0,a,c,u;for(n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),u=r;u<0;)l++,u=Math.round(r+l*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),l++,u=Math.round(r+l*n))}function zC(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const BC=t=>t==="left"?"right":t==="right"?"left":t,yp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,vp=(t,e)=>Math.min(e||t,t);function xp(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function WC(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,l=1e-6;let a=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(a-r,o-a):e===0?c=(t.getPixelForTick(1)-a)/2:c=(a-t.getPixelForTick(s-1))/2,a+=s<e?c:-c,a<r-l||a>o+l)))return a}function HC(t,e){Y(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Ts(t){return t.drawTicks?t.tickLength:0}function wp(t,e){if(!t.display)return 0;const n=ze(t.font,e),i=xt(t.padding);return(Ee(t.text)?t.text.length:1)*n.lineHeight+i.height}function jC(t,e){return yi(t,{scale:e,type:"scale"})}function VC(t,e,n){return yi(t,{tick:n,index:e,type:"tick"})}function UC(t,e,n){let i=Bh(t);return(n&&e!=="right"||!n&&e==="right")&&(i=BC(i)),i}function $C(t,e,n,i){const{top:s,left:r,bottom:o,right:l,chart:a}=t,{chartArea:c,scales:u}=a;let h=0,d,f,p;const _=o-s,v=l-r;if(t.isHorizontal()){if(f=Oe(i,r,l),U(n)){const g=Object.keys(n)[0],m=n[g];p=u[g].getPixelForValue(m)+_-e}else n==="center"?p=(c.bottom+c.top)/2+_-e:p=yp(t,n,e);d=l-r}else{if(U(n)){const g=Object.keys(n)[0],m=n[g];f=u[g].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=yp(t,n,e);p=Oe(i,o,s),h=n==="left"?-bt:bt}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ds extends on{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=At(e,Number.POSITIVE_INFINITY),n=At(n,Number.NEGATIVE_INFINITY),i=At(i,Number.POSITIVE_INFINITY),s=At(s,Number.NEGATIVE_INFINITY),{min:At(e,i),max:At(n,s),minDefined:vt(e),maxDefined:vt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)o=l[a].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:At(n,At(i,n)),max:At(i,At(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uS(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?xp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=te(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=vp(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,l,a,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=pt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:f/(i-1),h+6>l&&(l=f/(i-(e.offset?.5:1)),a=this.maxHeight-Ts(e.grid)-n.padding-wp(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=R1(Math.min(Math.asin(pt((u.highest.height+6)/l,-1,1)),Math.asin(pt(a/c,-1,1))-Math.asin(pt(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const a=wp(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Ts(r)+a):(e.height=this.maxHeight,e.width=Ts(r)+a),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=ei(this.labelRotation),_=Math.cos(p),v=Math.sin(p);if(l){const g=i.mirror?0:v*h.width+_*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=i.mirror?0:_*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,v,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;a?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)he(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=xp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],l=[],a=Math.floor(n/vp(n,i));let c=0,u=0,h,d,f,p,_,v,g,m,y,x,w;for(h=0;h<n;h+=a){if(p=e[h].label,_=this._resolveTickFontOptions(h),s.font=v=_.string,g=r[v]=r[v]||{data:{},gc:[]},m=_.lineHeight,y=x=0,!he(p)&&!Ee(p))y=Xf(s,g.data,g.gc,y,p),x=m;else if(Ee(p))for(d=0,f=p.length;d<f;++d)w=p[d],!he(w)&&!Ee(w)&&(y=Xf(s,g.data,g.gc,y,w),x+=m);o.push(y),l.push(x),c=Math.max(y,c),u=Math.max(x,u)}HC(r,n);const E=o.indexOf(c),S=l.indexOf(u),C=N=>({width:o[N]||0,height:l[N]||0});return{first:C(0),last:C(n-1),widest:C(E),highest:C(S),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return L1(this._alignToPixels?Vn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=VC(this.getContext(),e,i))}return this.$context||(this.$context=jC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ei(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,l=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*i>l*s?l/i:a/s:a*s<l*i?a/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:l}=s,a=r.offset,c=this.isHorizontal(),h=this.ticks.length+(a?1:0),d=Ts(r),f=[],p=l.setContext(this.getContext()),_=p.display?p.width:0,v=_/2,g=function(fe){return Vn(i,fe,_)};let m,y,x,w,E,S,C,N,I,D,H,me;if(o==="top")m=g(this.bottom),S=this.bottom-d,N=m-v,D=g(e.top)+v,me=e.bottom;else if(o==="bottom")m=g(this.top),D=e.top,me=g(e.bottom)-v,S=m+v,N=this.top+d;else if(o==="left")m=g(this.right),E=this.right-d,C=m-v,I=g(e.left)+v,H=e.right;else if(o==="right")m=g(this.left),I=e.left,H=g(e.right)-v,E=m+v,C=this.left+d;else if(n==="x"){if(o==="center")m=g((e.top+e.bottom)/2+.5);else if(U(o)){const fe=Object.keys(o)[0],Me=o[fe];m=g(this.chart.scales[fe].getPixelForValue(Me))}D=e.top,me=e.bottom,S=m+v,N=S+d}else if(n==="y"){if(o==="center")m=g((e.left+e.right)/2);else if(U(o)){const fe=Object.keys(o)[0],Me=o[fe];m=g(this.chart.scales[fe].getPixelForValue(Me))}E=m-v,C=E-d,I=e.left,H=e.right}const nt=j(s.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/nt));for(y=0;y<h;y+=re){const fe=this.getContext(y),Me=r.setContext(fe),T=l.setContext(fe),O=Me.lineWidth,A=Me.color,Q=T.dash||[],J=T.dashOffset,Rt=Me.tickWidth,We=Me.tickColor,Vt=Me.tickBorderDash||[],He=Me.tickBorderDashOffset;x=WC(this,y,a),x!==void 0&&(w=Vn(i,x,O),c?E=C=I=H=w:S=N=D=me=w,f.push({tx1:E,ty1:S,tx2:C,ty2:N,x1:I,y1:D,x2:H,y2:me,width:O,color:A,borderDash:Q,borderDashOffset:J,tickWidth:Rt,tickColor:We,tickBorderDash:Vt,tickBorderDashOffset:He}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:u,mirror:h}=r,d=Ts(i.grid),f=d+u,p=h?-u:f,_=-ei(this.labelRotation),v=[];let g,m,y,x,w,E,S,C,N,I,D,H,me="middle";if(s==="top")E=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(d);S=re.textAlign,w=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(d);S=re.textAlign,w=re.x}else if(n==="x"){if(s==="center")E=(e.top+e.bottom)/2+f;else if(U(s)){const re=Object.keys(s)[0],fe=s[re];E=this.chart.scales[re].getPixelForValue(fe)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(e.left+e.right)/2-f;else if(U(s)){const re=Object.keys(s)[0],fe=s[re];w=this.chart.scales[re].getPixelForValue(fe)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(a==="start"?me="top":a==="end"&&(me="bottom"));const nt=this._getLabelSizes();for(g=0,m=l.length;g<m;++g){y=l[g],x=y.label;const re=r.setContext(this.getContext(g));C=this.getPixelForTick(g)+r.labelOffset,N=this._resolveTickFontOptions(g),I=N.lineHeight,D=Ee(x)?x.length:1;const fe=D/2,Me=re.color,T=re.textStrokeColor,O=re.textStrokeWidth;let A=S;o?(w=C,S==="inner"&&(g===m-1?A=this.options.reverse?"left":"right":g===0?A=this.options.reverse?"right":"left":A="center"),s==="top"?c==="near"||_!==0?H=-D*I+I/2:c==="center"?H=-nt.highest.height/2-fe*I+I:H=-nt.highest.height+I/2:c==="near"||_!==0?H=I/2:c==="center"?H=nt.highest.height/2-fe*I:H=nt.highest.height-D*I,h&&(H*=-1),_!==0&&!re.showLabelBackdrop&&(w+=I/2*Math.sin(_))):(E=C,H=(1-D)*I/2);let Q;if(re.showLabelBackdrop){const J=xt(re.backdropPadding),Rt=nt.heights[g],We=nt.widths[g];let Vt=H-J.top,He=0-J.left;switch(me){case"middle":Vt-=Rt/2;break;case"bottom":Vt-=Rt;break}switch(S){case"center":He-=We/2;break;case"right":He-=We;break;case"inner":g===m-1?He-=We:g>0&&(He-=We/2);break}Q={left:He,top:Vt,width:We+J.width,height:Rt+J.height,color:re.backdropColor}}v.push({label:x,font:N,textOffset:H,options:{rotation:_,color:Me,strokeColor:T,strokeWidth:O,textAlign:A,textBaseline:me,translation:[w,E],backdrop:Q}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ei(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=e+r,a=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-l,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+l,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const l=(a,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const a=s[r];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Vn(e,this.left,o)-o/2,u=Vn(e,this.right,l)+l/2,h=d=a):(h=Vn(e,this.top,o)-o/2,d=Vn(e,this.bottom,l)+l/2,c=u=a),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Hh(i,s);const r=this.getLabelItems(e);for(const o of r){const l=o.options,a=o.font,c=o.label,u=o.textOffset;Pr(i,c,0,u,a,l)}s&&jh(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ze(i.font),o=xt(i.padding),l=i.align;let a=r.lineHeight/2;n==="bottom"||n==="center"||U(n)?(a+=o.bottom,Ee(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=$C(this,a,n,l);Pr(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:UC(l,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=j(e.grid&&e.grid.z,-1),s=j(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ds.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const l=n[r];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ze(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Io{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;KC(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,YC(e,o,i),this.override&&ge.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in ge[s]&&(delete ge[s][i],this.override&&delete hi[i])}}function YC(t,e,n){const i=br(Object.create(null),[n?ge.get(n):{},ge.get(e),t.defaults]);ge.set(e,i),t.defaultRoutes&&GC(e,t.defaultRoutes),t.descriptors&&ge.describe(e,t.descriptors)}function GC(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),a=o.join(".");ge.route(r,s,a,l)})}function KC(t){return"id"in t&&"defaults"in t}class QC{constructor(){this.controllers=new Io(nr,"datasets",!0),this.elements=new Io(on,"elements"),this.plugins=new Io(Object,"plugins"),this.scales=new Io(ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Y(s,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const s=Fh(e);te(i["before"+s],[],i),n[e](i),te(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var zt=new QC;class qC{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,l=o[i],a=[n,s,r.options];if(te(l,a,o)===!1&&s.cancelable)return!1}return!0}invalidate(){he(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=j(i.options&&i.options.plugins,{}),r=XC(i);return s===!1&&!n?[]:JC(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(l=>!o.some(a=>l.plugin.id===a.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function XC(t){const e={},n=[],i=Object.keys(zt.plugins.items);for(let r=0;r<i.length;r++)n.push(zt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ZC(t,e){return!e&&t===!1?null:t===!0?{}:t}function JC(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const l of e){const a=l.id,c=ZC(i[a],s);c!==null&&r.push({plugin:l,options:eE(t.config,{plugin:l,local:n[a]},c,o)})}return r}function eE(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fu(t,e){const n=ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tE(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nE(t,e){return t===e?"_index_":"_value_"}function Sp(t){if(t==="x"||t==="y"||t==="r")return t}function iE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function pu(t,...e){if(Sp(t))return t;for(const n of e){const i=n.axis||iE(n.position)||t.length>1&&Sp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Cp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sE(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Cp(t,"x",n[0])||Cp(t,"y",n[0])}return{}}function rE(t,e){const n=hi[t.type]||{scales:{}},i=e.scales||{},s=fu(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!U(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const a=pu(o,l,sE(o,t),ge.scales[l.type]),c=nE(a,s),u=n.scales||{};r[o]=Xs(Object.create(null),[{axis:a},l,u[a],u[c]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,a=o.indexAxis||fu(l,e),u=(hi[l]||{}).scales||{};Object.keys(u).forEach(h=>{const d=tE(h,a),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Xs(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const l=r[o];Xs(l,[ge.scales[l.type],ge.scale])}),r}function Ny(t){const e=t.options||(t.options={});e.plugins=j(e.plugins,{}),e.scales=rE(t,e)}function My(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function oE(t){return t=t||{},t.data=My(t.data),Ny(t),t}const Ep=new Map,Dy=new Set;function Po(t,e){let n=Ep.get(t);return n||(n=e(),Ep.set(t,n),Dy.add(n)),n}const Is=(t,e,n)=>{const i=El(e,n);i!==void 0&&t.add(i)};class lE{constructor(e){this._config=oE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=My(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ny(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Po(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Po(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Po(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Po(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const a=new Set;n.forEach(u=>{e&&(a.add(e),u.forEach(h=>Is(a,e,h))),u.forEach(h=>Is(a,s,h)),u.forEach(h=>Is(a,hi[r]||{},h)),u.forEach(h=>Is(a,ge,h)),u.forEach(h=>Is(a,uu,h))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),Dy.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,hi[n]||{},ge.datasets[n]||{},{type:n},ge,uu]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=kp(this._resolverCache,e,s);let a=o;if(cE(o,n)){r.$shared=!1,i=An(i)?i():i;const c=this.createResolver(e,i,l);a=is(o,i,c)}for(const c of n)r[c]=a[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=kp(this._resolverCache,e,i);return U(n)?is(r,n,void 0,s):r}}function kp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Vh(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const aE=t=>U(t)&&Object.getOwnPropertyNames(t).some(e=>An(t[e]));function cE(t,e){const{isScriptable:n,isIndexable:i}=gy(t);for(const s of e){const r=n(s),o=i(s),l=(o||r)&&t[s];if(r&&(An(l)||aE(l))||o&&Ee(l))return!0}return!1}var uE="4.4.7";const hE=["top","bottom","left","right","chartArea"];function bp(t,e){return t==="top"||t==="bottom"||hE.indexOf(t)===-1&&e==="x"}function Tp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Ip(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),te(n&&n.onComplete,[t],e)}function dE(t){const e=t.chart,n=e.options.animation;te(n&&n.onProgress,[t],e)}function Ry(t){return Yh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Qo={},Pp=t=>{const e=Ry(t);return Object.values(Qo).filter(n=>n.canvas===e).pop()};function fE(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function pE(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function No(t,e,n){return t.options.clip?t[n]:e[n]}function gE(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:No(n,e,"left"),right:No(n,e,"right"),top:No(i,e,"top"),bottom:No(i,e,"bottom")}:e}var dn;let ua=(dn=class{static register(...e){zt.add(...e),Np()}static unregister(...e){zt.remove(...e),Np()}constructor(e,n){const i=this.config=new lE(n),s=Ry(e),r=Pp(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||DC(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,o.aspectRatio),a=l&&l.canvas,c=a&&a.height,u=a&&a.width;if(this.id=w1(),this.ctx=l,this.canvas=a,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=H1(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Qo[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}$t.listen(this,"complete",Ip),$t.listen(this,"progress",dE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return he(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return zt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zf(this.canvas,this.ctx),this}stop(){return $t.stop(this),this}resize(e,n){$t.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tp(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),te(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Y(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const l=n[o],a=pu(o,l),c=a==="r",u=a==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Y(r,o=>{const l=o.options,a=l.id,c=pu(a,l),u=j(l.type,o.dtype);(l.position===void 0||bp(l.position,c)!==bp(o.dposition))&&(l.position=o.dposition),s[a]=!0;let h=null;if(a in i&&i[a].type===u)h=i[a];else{const d=zt.getScale(u);h=new d({id:a,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),Y(s,(o,l)=>{o||delete i[l]}),Y(i,o=>{gt.configure(this,o,o.options),gt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Tp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=r.indexAxis||fu(l,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const a=zt.getController(l),{datasetElementType:c,dataElementType:u}=ge.datasets[l];Object.assign(a,{dataElementType:zt.getElement(u),datasetElementType:c&&zt.getElement(c)}),o.controller=new a(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Y(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Y(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Tp("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Y(this.scales,e=>{gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!jf(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;fE(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!jf(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Y(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,An(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($t.has(this)?this.attached&&!$t.running(this)&&$t.start(this):(this.draw(),Ip({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=gE(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Hh(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&jh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Ir(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=hC.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);kl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),$t.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Zf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Qo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};Y(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(a,c)=>{n.addEventListener(this,a,c),e[a]=c},s=(a,c)=>{e[a]&&(n.removeEventListener(this,a,c),delete e[a])},r=(a,c)=>{this.canvas&&this.resize(a,c)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Y(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Y(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,l,a;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){o=e[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!Sl(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(a,c)=>a.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),l=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,l=this._getActiveElements(e,s,i,o),a=T1(e),c=pE(e,this._lastEvent,i,a);i&&(this._lastEvent=null,te(r.onHover,[e,l,this],this),a&&te(r.onClick,[e,l,this],this));const u=!Sl(l,s);return(u||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},L(dn,"defaults",ge),L(dn,"instances",Qo),L(dn,"overrides",hi),L(dn,"registry",zt),L(dn,"version",uE),L(dn,"getChart",Pp),dn);function Np(){return Y(ua.instances,t=>t._plugins.invalidate())}function Oy(t,e,n=e){t.lineCap=j(n.borderCapStyle,e.borderCapStyle),t.setLineDash(j(n.borderDash,e.borderDash)),t.lineDashOffset=j(n.borderDashOffset,e.borderDashOffset),t.lineJoin=j(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=j(n.borderWidth,e.borderWidth),t.strokeStyle=j(n.borderColor,e.borderColor)}function mE(t,e,n){t.lineTo(n.x,n.y)}function _E(t){return t.stepped?eS:t.tension||t.cubicInterpolationMode==="monotone"?tS:mE}function Ay(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:l}=e,a=Math.max(s,o),c=Math.min(r,l),u=s<o&&r<o||s>l&&r>l;return{count:i,start:a,loop:e.loop,ilen:c<a&&!u?i+c-a:c-a}}function yE(t,e,n,i){const{points:s,options:r}=e,{count:o,start:l,loop:a,ilen:c}=Ay(s,n,i),u=_E(r);let{move:h=!0,reverse:d}=i||{},f,p,_;for(f=0;f<=c;++f)p=s[(l+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,_,p,d,r.stepped),_=p);return a&&(p=s[(l+(d?c:0))%o],u(t,_,p,d,r.stepped)),!!a}function vE(t,e,n,i){const s=e.points,{count:r,start:o,ilen:l}=Ay(s,n,i),{move:a=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,_,v,g;const m=x=>(o+(c?l-x:x))%r,y=()=>{_!==v&&(t.lineTo(u,v),t.lineTo(u,_),t.lineTo(u,g))};for(a&&(f=s[m(0)],t.moveTo(f.x,f.y)),d=0;d<=l;++d){if(f=s[m(d)],f.skip)continue;const x=f.x,w=f.y,E=x|0;E===p?(w<_?_=w:w>v&&(v=w),u=(h*u+x)/++h):(y(),t.lineTo(x,w),p=E,h=0,_=v=w),g=w}y()}function gu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?vE:yE}function xE(t){return t.stepped?OS:t.tension||t.cubicInterpolationMode==="monotone"?AS:Kn}function wE(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),Oy(t,e.options),t.stroke(s)}function SE(t,e,n,i){const{segments:s,options:r}=e,o=gu(e);for(const l of s)Oy(t,r,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const CE=typeof Path2D=="function";function EE(t,e,n,i){CE&&!e.options.segment?wE(t,e,n,i):SE(t,e,n,i)}class Ws extends on{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;bS(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=VS(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=WS(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],a=xE(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){l.push(f);continue}const _=Math.abs((s-f[n])/(p[n]-f[n])),v=a(f,p,_,i.stepped);v[n]=e[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,n,i){return gu(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=gu(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)o&=r(e,this,l,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),EE(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(Ws,"id","line"),L(Ws,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(Ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(Ws,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Mp(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class qo extends on{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Mp(this,n,"x",i)}inYRange(n,i){return Mp(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ir(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,hu(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(qo,"id","point"),L(qo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(qo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Dp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},kE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Rp extends on{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ze(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=Dp(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,l,a)+10):(u=this.maxHeight,c=this._fitCols(o,s,l,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+l;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,_)=>{const v=i+n/2+r.measureText(p.text).width;(_===0||c[c.length-1]+v+2*l>o)&&(h+=u,c[c.length-(_>0?0:1)]=0,f+=u,d++),a[_]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+l}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=l,d=0,f=0,p=0,_=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:m,itemHeight:y}=bE(i,n,r,v,s);g>0&&f+y+2*l>u&&(h+=d+l,c.push({width:d,height:f}),p+=d+l,_++,d=f=0),a[g]={left:p,top:f,col:_,width:m,height:y},d=Math.max(d,m),f+=y+l}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ui(r,this.left,this.width);if(this.isHorizontal()){let l=0,a=Oe(i,this.left+s,this.right-this.lineWidths[l]);for(const c of n)l!==c.row&&(l=c.row,a=Oe(i,this.left+s,this.right-this.lineWidths[l])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(a),c.width),a+=c.width+s}else{let l=0,a=Oe(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const c of n)c.col!==l&&(l=c.col,a=Oe(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),a+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Hh(e,this),this._draw(),jh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,l=ge.color,a=Ui(e.rtl,this.left,this.width),c=ze(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=a.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:_,itemHeight:v}=Dp(o,h),g=function(E,S,C){if(isNaN(p)||p<=0||isNaN(_)||_<0)return;s.save();const N=j(C.lineWidth,1);if(s.fillStyle=j(C.fillStyle,l),s.lineCap=j(C.lineCap,"butt"),s.lineDashOffset=j(C.lineDashOffset,0),s.lineJoin=j(C.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=j(C.strokeStyle,l),s.setLineDash(j(C.lineDash,[])),o.usePointStyle){const I={radius:_*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},D=a.xPlus(E,p/2),H=S+d;fy(s,I,D,H,o.pointStyleWidth&&p)}else{const I=S+Math.max((h-_)/2,0),D=a.leftForLtr(E,p),H=tr(C.borderRadius);s.beginPath(),Object.values(H).some(me=>me!==0)?du(s,{x:D,y:I,w:p,h:_,radius:H}):s.rect(D,I,p,_),s.fill(),N!==0&&s.stroke()}s.restore()},m=function(E,S,C){Pr(s,C.text,E,S+v/2,c,{strikethrough:C.hidden,textAlign:a.textAlign(C.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?f={x:Oe(r,this.left+u,this.right-i[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:Oe(r,this.top+x+u,this.bottom-n[0].height),line:0},xy(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((E,S)=>{s.strokeStyle=E.fontColor,s.fillStyle=E.fontColor;const C=s.measureText(E.text).width,N=a.textAlign(E.textAlign||(E.textAlign=o.textAlign)),I=p+d+C;let D=f.x,H=f.y;a.setWidth(this.width),y?S>0&&D+I+u>this.right&&(H=f.y+=w,f.line++,D=f.x=Oe(r,this.left+u,this.right-i[f.line])):S>0&&H+w>this.bottom&&(D=f.x=D+n[f.line].width+u,f.line++,H=f.y=Oe(r,this.top+x+u,this.bottom-n[f.line].height));const me=a.x(D);if(g(me,H,E),D=j1(N,D+p+d,y?D+I:this.right,e.rtl),m(a.x(D),H,E),y)f.x+=I+u;else if(typeof E.text!="string"){const nt=c.lineHeight;f.y+=Ly(E,nt)+u}else f.y+=w}),wy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ze(n.font),s=xt(n.padding);if(!n.display)return;const r=Ui(e.rtl,this.left,this.width),o=this.ctx,l=n.position,a=i.size/2,c=s.top+a;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Oe(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((_,v)=>Math.max(_,v.height),0);u=c+Oe(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Oe(l,h,h+d);o.textAlign=r.textAlign(Bh(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Pr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=ze(e.font),i=xt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(zs(e,this.left,this.right)&&zs(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],zs(e,s.left,s.left+s.width)&&zs(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!PE(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=kE(s,i);s&&!r&&te(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&te(n.onHover,[e,i,this],this)}else i&&te(n.onClick,[e,i,this],this)}}function bE(t,e,n,i,s){const r=TE(i,t,e,n),o=IE(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function TE(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function IE(t,e,n){let i=t;return typeof e.text!="string"&&(i=Ly(e,n)),i}function Ly(t,e){const n=t.text?t.text.length:0;return e*n}function PE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var NE={id:"legend",_element:Rp,start(t,e,n){const i=t.legend=new Rp({ctx:t.ctx,options:n,chart:t});gt.configure(t,i,n),gt.addBox(t,i)},stop(t){gt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;gt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(n?0:void 0),u=xt(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Fy extends on{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Ee(i.text)?i.text.length:1;this._padding=xt(i.padding);const r=s*ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,l=o.align;let a=0,c,u,h;return this.isHorizontal()?(u=Oe(l,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=Oe(l,s,n),a=Te*-.5):(u=r-e,h=Oe(l,n,s),a=Te*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:a}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ze(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(r);Pr(e,n.text,0,0,i,{color:n.color,maxWidth:a,rotation:c,textAlign:Bh(n.align),textBaseline:"middle",translation:[o,l]})}}function ME(t,e){const n=new Fy({ctx:t.ctx,options:e,chart:t});gt.configure(t,n,e),gt.addBox(t,n),t.titleBlock=n}var DE={id:"title",_element:Fy,start(t,e,n){ME(t,n)},stop(t){const e=t.titleBlock;gt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;gt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hs={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),s+=a.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=t.length;r<o;++r){const a=t[r].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),u=cu(e,c);u<s&&(s=u,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Lt(t,e){return e&&(Ee(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function RE(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:l}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Op(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:l}=e,a=ze(e.bodyFont),c=ze(e.titleFont),u=ze(e.footerFont),h=r.length,d=s.length,f=i.length,p=xt(e.padding);let _=p.height,v=0,g=i.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const x=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;_+=f*x+(g-f)*a.lineHeight+(g-1)*e.bodySpacing}d&&(_+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const y=function(x){v=Math.max(v,n.measureText(x).width+m)};return n.save(),n.font=c.string,Y(t.title,y),n.font=a.string,Y(t.beforeBody.concat(t.afterBody),y),m=e.displayColors?o+2+e.boxPadding:0,Y(i,x=>{Y(x.before,y),Y(x.lines,y),Y(x.after,y)}),m=0,n.font=u.string,Y(t.footer,y),n.restore(),v+=p.width,{width:v,height:_}}function OE(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function AE(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function LE(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:l,right:a}}=t;let c="center";return i==="center"?c=s<=(l+a)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),AE(c,t,e,n)&&(c="center"),c}function Ap(t,e,n){const i=n.yAlign||e.yAlign||OE(t,n);return{xAlign:n.xAlign||e.xAlign||LE(t,e,n,i),yAlign:i}}function FE(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function zE(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Lp(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:l,yAlign:a}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=tr(o);let p=FE(e,l);const _=zE(e,a,c);return a==="center"?l==="left"?p+=c:l==="right"&&(p-=c):l==="left"?p-=Math.max(u,d)+s:l==="right"&&(p+=Math.max(h,f)+s),{x:pt(p,0,i.width-e.width),y:pt(_,0,i.height-e.height)}}function Mo(t,e,n){const i=xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Fp(t){return Lt([],Yt(t))}function BE(t,e,n){return yi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function zp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const zy={beforeTitle:Ut,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ut,beforeBody:Ut,beforeLabel:Ut,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return he(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ut,afterBody:Ut,beforeFooter:Ut,footer:Ut,afterFooter:Ut};function Ye(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?zy[e].call(n,i):s}class mu extends on{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Cy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=BE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Ye(i,"beforeTitle",this,e),r=Ye(i,"title",this,e),o=Ye(i,"afterTitle",this,e);let l=[];return l=Lt(l,Yt(s)),l=Lt(l,Yt(r)),l=Lt(l,Yt(o)),l}getBeforeBody(e,n){return Fp(Ye(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Y(e,r=>{const o={before:[],lines:[],after:[]},l=zp(i,r);Lt(o.before,Yt(Ye(l,"beforeLabel",this,r))),Lt(o.lines,Ye(l,"label",this,r)),Lt(o.after,Yt(Ye(l,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return Fp(Ye(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Ye(i,"beforeFooter",this,e),r=Ye(i,"footer",this,e),o=Ye(i,"afterFooter",this,e);let l=[];return l=Lt(l,Yt(s)),l=Lt(l,Yt(r)),l=Lt(l,Yt(o)),l}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let l=[],a,c;for(a=0,c=n.length;a<c;++a)l.push(RE(this.chart,n[a]));return e.filter&&(l=l.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,i))),Y(l,u=>{const h=zp(e.callbacks,u);s.push(Ye(h,"labelColor",this,u)),r.push(Ye(h,"labelPointStyle",this,u)),o.push(Ye(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=Hs[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const a=this._size=Op(this,i),c=Object.assign({},l,a),u=Ap(this.chart,i,c),h=Lp(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:h}=tr(l),{x:d,y:f}=e,{width:p,height:_}=n;let v,g,m,y,x,w;return r==="center"?(x=f+_/2,s==="left"?(v=d,g=v-o,y=x+o,w=x-o):(v=d+p,g=v+o,y=x-o,w=x+o),m=v):(s==="left"?g=d+Math.max(a,u)+o:s==="right"?g=d+p-Math.max(c,h)-o:g=this.caretX,r==="top"?(y=f,x=y-o,v=g-o,m=g+o):(y=f+_,x=y+o,v=g+o,m=g-o),w=y),{x1:v,x2:g,x3:m,y1:y,y2:x,y3:w}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,l,a;if(r){const c=Ui(i.rtl,this.x,this.width);for(e.x=Mo(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ze(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,a+1===r&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=r,u=ze(r.bodyFont),h=Mo(this,"left",r),d=s.x(h),f=a<u.lineHeight?(u.lineHeight-a)/2:0,p=n.y+f;if(r.usePointStyle){const _={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=s.leftForLtr(d,c)+c/2,g=p+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,hu(e,_,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hu(e,_,v,g)}else{e.lineWidth=U(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(d,c),v=s.leftForLtr(s.xPlus(d,1),c-2),g=tr(o.borderRadius);Object.values(g).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,du(e,{x:_,y:p,w:c,h:a,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),du(e,{x:v,y:p+1,w:c-2,h:a-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,p,c,a),e.strokeRect(_,p,c,a),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:u}=i,h=ze(i.bodyFont);let d=h.lineHeight,f=0;const p=Ui(i.rtl,this.x,this.width),_=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+r},v=p.textAlign(o);let g,m,y,x,w,E,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Mo(this,v,i),n.fillStyle=i.bodyColor,Y(this.beforeBody,_),f=l&&v!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=s.length;x<E;++x){for(g=s[x],m=this.labelTextColors[x],n.fillStyle=m,Y(g.before,_),y=g.lines,l&&y.length&&(this._drawColorBox(n,e,x,p,i),d=Math.max(h.lineHeight,a)),w=0,S=y.length;w<S;++w)_(y[w]),d=h.lineHeight;Y(g.after,_)}f=0,d=h.lineHeight,Y(this.afterBody,_),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,l;if(r){const a=Ui(i.rtl,this.x,this.width);for(e.x=Mo(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",o=ze(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:l,y:a}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=tr(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,a),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(l+c-d,a),n.quadraticCurveTo(l+c,a,l+c,a+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(l+c,a+u-p),n.quadraticCurveTo(l+c,a+u,l+c-p,a+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(l+f,a+u),n.quadraticCurveTo(l,a+u,l,a+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(l,a+h),n.quadraticCurveTo(l,a,l+h,a),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Hs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Op(this,e),a=Object.assign({},o,this._size),c=Ap(n,e,a),u=Lp(e,a,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),xy(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),wy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),r=!Sl(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),l=this._positionChanged(o,e),a=n||!Sl(o,r)||l;return a&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),a}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Hs[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}L(mu,"positioners",Hs);var WE={id:"tooltip",_element:mu,positioners:Hs,afterInit(t,e,n){n&&(t.tooltip=new mu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const HE=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function jE(t,e,n,i){const s=t.indexOf(e);if(s===-1)return HE(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const VE=(t,e)=>t===null?null:pt(Math.round(t),0,e);function Bp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _u extends ds{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(he(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:jE(i,e,j(n,e),this._addedLabels),VE(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return Bp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(_u,"id","category"),L(_u,"defaults",{ticks:{callback:Bp}});function UE(t,e){const n=[],{bounds:s,step:r,min:o,max:l,precision:a,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,p=u-1,{min:_,max:v}=e,g=!he(o),m=!he(l),y=!he(c),x=(v-_)/(h+1);let w=Uf((v-_)/p/f)*f,E,S,C,N;if(w<1e-14&&!g&&!m)return[{value:_},{value:v}];N=Math.ceil(v/w)-Math.floor(_/w),N>p&&(w=Uf(N*w/p/f)*f),he(a)||(E=Math.pow(10,a),w=Math.ceil(w*E)/E),s==="ticks"?(S=Math.floor(_/w)*w,C=Math.ceil(v/w)*w):(S=_,C=v),g&&m&&r&&M1((l-o)/r,w/1e3)?(N=Math.round(Math.min((l-o)/w,u)),w=(l-o)/N,S=o,C=l):y?(S=g?o:S,C=m?l:C,N=c-1,w=(C-S)/N):(N=(C-S)/w,Zs(N,Math.round(N),w/1e3)?N=Math.round(N):N=Math.ceil(N));const I=Math.max($f(w),$f(S));E=Math.pow(10,he(a)?I:a),S=Math.round(S*E)/E,C=Math.round(C*E)/E;let D=0;for(g&&(d&&S!==o?(n.push({value:o}),S<o&&D++,Zs(Math.round((S+D*w)*E)/E,o,Wp(o,x,t))&&D++):S<o&&D++);D<N;++D){const H=Math.round((S+D*w)*E)/E;if(m&&H>l)break;n.push({value:H})}return m&&d&&C!==l?n.length&&Zs(n[n.length-1].value,l,Wp(l,x,t))?n[n.length-1].value=l:n.push({value:l}):(!m||C===l)&&n.push({value:C}),n}function Wp(t,e,{horizontal:n,minRotation:i}){const s=ei(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class $E extends ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return he(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=a=>s=n?s:a,l=a=>r=i?r:a;if(e){const a=ns(s),c=ns(r);a<0&&c<0?l(0):a>0&&c>0&&o(0)}if(s===r){let a=r===0?1:Math.abs(r*.05);l(r+a),e||o(s-a)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=UE(s,r);return e.bounds==="ticks"&&D1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return uy(e,this.chart.options.locale,this.options.ticks.format)}}class yu extends $E{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=vt(e)?e:0,this.max=vt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ei(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(yu,"id","linear"),L(yu,"defaults",{ticks:{callback:dy.formatters.numeric}});const ha={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ke=Object.keys(ha);function Hp(t,e){return t-e}function jp(t,e){if(he(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),vt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Tr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Vp(t,e,n,i){const s=Ke.length;for(let r=Ke.indexOf(t);r<s-1;++r){const o=ha[Ke[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return Ke[r]}return Ke[s-1]}function YE(t,e,n,i,s){for(let r=Ke.length-1;r>=Ke.indexOf(n);r--){const o=Ke[r];if(ha[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Ke[n?Ke.indexOf(n):0]}function GE(t){for(let e=Ke.indexOf(t)+1,n=Ke.length;e<n;++e)if(ha[Ke[e]].common)return Ke[e]}function Up(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=zh(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function KE(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let l,a;for(l=r;l<=o;l=+s.add(l,1,i))a=n[l],a>=0&&(e[a].major=!0);return e}function $p(t,e,n){const i=[],s={},r=e.length;let o,l;for(o=0;o<r;++o)l=e[o],s[l]=o,i.push({value:l,major:!1});return r===0||!n?i:KE(t,i,s,n)}class Pl extends ds{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new oC._date(e.adapters.date);s.init(n),Xs(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:jp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function a(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=vt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=vt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,l=z1(s,r,o);return this._unit=n.unit||(i.autoSkip?Vp(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):YE(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:GE(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),$p(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=pt(n,0,o),i=pt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Vp(r.minUnit,n,i,this._getLabelCapacity(n)),l=j(s.ticks.stepSize,1),a=o==="week"?r.isoWeekday:!1,c=Tr(a)||a===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,l,o),f++)Up(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&Up(u,d,p),Object.keys(u).sort(Hp).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return te(o,[e,n,i],this);const l=r.time.displayFormats,a=this._unit,c=this._majorUnit,u=a&&l[a],h=c&&l[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ei(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*o,h:i*o+l*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,$p(this,[e],this._majorUnit),s),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(jp(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return W1(e.sort(Hp))}}L(Pl,"id","time"),L(Pl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Do(t,e,n){let i=0,s=t.length-1,r,o,l,a;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=ti(t,"pos",e)),{pos:r,time:l}=t[i],{pos:o,time:a}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=ti(t,"time",e)),{time:r,pos:l}=t[i],{time:o,pos:a}=t[s]);const c=o-r;return c?l+(a-l)*(e-r)/c:l}class Yp extends Pl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Do(n,this.min),this._tableRange=Do(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,l,a,c,u;for(o=0,l=e.length;o<l;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=s.length;o<l;++o)u=s[o+1],a=s[o-1],c=s[o],Math.round((u+a)/2)!==c&&r.push({time:c,pos:o/(l-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Do(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Do(this._table,i*this._tableRange+this._minPos,!0)}}L(Yp,"id","timeseries"),L(Yp,"defaults",Pl.defaults);const By="label";function Gp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function QE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Wy(t,e){t.labels=e}function Hy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:By;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function qE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:By;const n={labels:[],datasets:[]};return Wy(n,t.labels),Hy(n,t.datasets,e),n}function XE(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:l,options:a,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=ue.useRef(null),p=ue.useRef(),_=()=>{f.current&&(p.current=new ua(f.current,{type:o,data:qE(l,r),options:a&&{...a},plugins:c}),Gp(e,p.current))},v=()=>{Gp(e,null),p.current&&(p.current.destroy(),p.current=null)};return ue.useEffect(()=>{!s&&p.current&&a&&QE(p.current,a)},[s,a]),ue.useEffect(()=>{!s&&p.current&&Wy(p.current.config.data,l.labels)},[s,l.labels]),ue.useEffect(()=>{!s&&p.current&&l.datasets&&Hy(p.current.config.data,l.datasets,r)},[s,l.datasets]),ue.useEffect(()=>{p.current&&(s?(v(),setTimeout(_)):p.current.update(h))},[s,a,l.labels,l.datasets,h]),ue.useEffect(()=>{p.current&&(v(),setTimeout(_))},[o]),ue.useEffect(()=>(_(),()=>v()),[]),Xg.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const ZE=ue.forwardRef(XE);function JE(t,e){return ua.register(e),ue.forwardRef((n,i)=>Xg.createElement(ZE,Object.assign({},n,{ref:i,type:t})))}const ek=JE("line",Go);ua.register(_u,yu,qo,Ws,DE,WE,NE);const ic=({data:t,labels:e,label:n,borderColor:i})=>{const s={labels:e,datasets:[{label:n,data:t,borderColor:i,backgroundColor:i+"20",tension:.4}]},r={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}};return M.jsx(ek,{options:r,data:s})},tk=({data:t})=>{const e=n=>new Date(n).toLocaleString();return M.jsxs(ty,{className:"overflow-hidden",children:[M.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:M.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Historical Data"})}),M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[M.jsx("thead",{className:"bg-gray-50",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),M.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"pH Level"}),M.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Temperature (°C)"}),M.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Water Level (%)"})]})}),M.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice().reverse().map((n,i)=>M.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[M.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e(n.timestamp)}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.ph.toFixed(2)}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.temperature.toFixed(1)}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.waterLevel.toFixed(1)})]},i))})]})})]})};var Kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=function(t,e){if(!t)throw fs(e)},fs=function(t){return new Error("Firebase Database ("+jy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let d=(l&15)<<2|c>>6,f=c&63;a||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||h==null)throw new ik;const d=r<<2|l>>4;if(i.push(d),c!==64){const f=l<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ik extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uy=function(t){const e=Vy(t);return Qh.encodeByteArray(e,!0)},Nl=function(t){return Uy(t).replace(/\./g,"")},vu=function(t){try{return Qh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){return $y(void 0,t)}function $y(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rk(n)||(t[n]=$y(t[n],e[n]));return t}function rk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=()=>ok().__FIREBASE_DEFAULTS__,ak=()=>{if(typeof process>"u"||typeof Kp>"u")return;const t=Kp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ck=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vu(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return lk()||ak()||ck()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uk=t=>{var e,n;return(n=(e=Yy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hk=t=>{const e=uk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Gy=()=>{var t;return(t=Yy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nl(JSON.stringify(n)),Nl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ky(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fk())}function pk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qy(){return jy.NODE_ADMIN===!0}function gk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="FirebaseError";class Gr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_k,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qy.prototype.create)}}class qy{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?yk(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Gr(s,l,i)}}function yk(t,e){return t.replace(vk,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const vk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Mr(vu(r[0])||""),n=Mr(vu(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},xk=function(t){const e=Xy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wk=function(t){const e=Xy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function xu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(qp(r)&&qp(o)){if(!xu(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function qp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const d=(s<<5|s>>>27)+c+a+u+i[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function Zy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,b(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},da=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new qh;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tk(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bk(t){return t===Qn?void 0:t}function Tk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(q||(q={}));const Pk={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Nk=q.INFO,Mk={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Mk[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=Dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}}const Rk=(t,e)=>e.some(n=>t instanceof n);let Xp,Zp;function Ok(){return Xp||(Xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,wu=new WeakMap,tv=new WeakMap,sc=new WeakMap,Xh=new WeakMap;function Lk(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Nn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ev.set(n,t)}).catch(()=>{}),Xh.set(e,t),e}function Fk(t){if(wu.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});wu.set(t,e)}let Su={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zk(t){Su=t(Su)}function Bk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(rc(this),e,...n);return tv.set(i,e.sort?e.sort():[e]),Nn(i)}:Ak().includes(t)?function(...e){return t.apply(rc(this),e),Nn(ev.get(this))}:function(...e){return Nn(t.apply(rc(this),e))}}function Wk(t){return typeof t=="function"?Bk(t):(t instanceof IDBTransaction&&Fk(t),Rk(t,Ok())?new Proxy(t,Su):t)}function Nn(t){if(t instanceof IDBRequest)return Lk(t);if(sc.has(t))return sc.get(t);const e=Wk(t);return e!==t&&(sc.set(t,e),Xh.set(e,t)),e}const rc=t=>Xh.get(t);function Hk(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=Nn(o);return i&&o.addEventListener("upgradeneeded",a=>{i(Nn(o.result),a.oldVersion,a.newVersion,Nn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const jk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],oc=new Map;function Jp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oc.get(e))return oc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Vk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||jk.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return oc.set(e,r),r}zk(t=>({...t,get:(e,n,i)=>Jp(e,n)||t.get(e,n,i),has:(e,n)=>!!Jp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($k(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $k(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cu="@firebase/app",eg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Jy("@firebase/app"),Yk="@firebase/app-compat",Gk="@firebase/analytics-compat",Kk="@firebase/analytics",Qk="@firebase/app-check-compat",qk="@firebase/app-check",Xk="@firebase/auth",Zk="@firebase/auth-compat",Jk="@firebase/database",eb="@firebase/data-connect",tb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",sb="@firebase/installations",rb="@firebase/installations-compat",ob="@firebase/messaging",lb="@firebase/messaging-compat",ab="@firebase/performance",cb="@firebase/performance-compat",ub="@firebase/remote-config",hb="@firebase/remote-config-compat",db="@firebase/storage",fb="@firebase/storage-compat",pb="@firebase/firestore",gb="@firebase/vertexai-preview",mb="@firebase/firestore-compat",_b="firebase",yb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="[DEFAULT]",vb={[Cu]:"fire-core",[Yk]:"fire-core-compat",[Kk]:"fire-analytics",[Gk]:"fire-analytics-compat",[qk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Xk]:"fire-auth",[Zk]:"fire-auth-compat",[Jk]:"fire-rtdb",[eb]:"fire-data-connect",[tb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[sb]:"fire-iid",[rb]:"fire-iid-compat",[ob]:"fire-fcm",[lb]:"fire-fcm-compat",[ab]:"fire-perf",[cb]:"fire-perf-compat",[ub]:"fire-rc",[hb]:"fire-rc-compat",[db]:"fire-gcs",[fb]:"fire-gcs-compat",[pb]:"fire-fst",[mb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[_b]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Map,xb=new Map,ku=new Map;function tg(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(ku.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;ku.set(e,t);for(const n of Dl.values())tg(n,t);for(const n of xb.values())tg(n,t);return!0}function wb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mn=new qy("app","Firebase",Sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=yb;function nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Eu,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Mn.create("bad-app-name",{appName:String(s)});if(n||(n=Gy()),!n)throw Mn.create("no-options");const r=Dl.get(s);if(r){if(xu(n,r.options)&&xu(i,r.config))return r;throw Mn.create("duplicate-app",{appName:s})}const o=new Ik(s);for(const a of ku.values())o.addComponent(a);const l=new Cb(n,i,o);return Dl.set(s,l),l}function kb(t=Eu){const e=Dl.get(t);if(!e&&t===Eu&&Gy())return nv();if(!e)throw Mn.create("no-app",{appName:t});return e}function $i(t,e,n){var i;let s=(i=vb[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(l.join(" "));return}Rl(new Dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebase-heartbeat-database",Tb=1,Rr="firebase-heartbeat-store";let lc=null;function iv(){return lc||(lc=Hk(bb,Tb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rr)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mn.create("idb-open",{originalErrorMessage:t.message})})),lc}async function Ib(t){try{const n=(await iv()).transaction(Rr),i=await n.objectStore(Rr).get(sv(t));return await n.done,i}catch(e){if(e instanceof Gr)ln.warn(e.message);else{const n=Mn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function ng(t,e){try{const i=(await iv()).transaction(Rr,"readwrite");await i.objectStore(Rr).put(e,sv(t)),await i.done}catch(n){if(n instanceof Gr)ln.warn(n.message);else{const i=Mn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(i.message)}}}function sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=1024,Nb=30*24*60*60*1e3;class Mb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ig();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Nb}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ln.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ig(),{heartbeatsToSend:i,unsentEntries:s}=Db(this._heartbeatsCache.heartbeats),r=Nl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ln.warn(n),""}}}function ig(){return new Date().toISOString().substring(0,10)}function Db(t,e=Pb){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),sg(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ib(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sg(t){return Nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){Rl(new Dr("platform-logger",e=>new Uk(e),"PRIVATE")),Rl(new Dr("heartbeat",e=>new Mb(e),"PRIVATE")),$i(Cu,eg,t),$i(Cu,eg,"esm2017"),$i("fire-js","")}Ob("");var rg={};const og="@firebase/database",lg="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv="";function Ab(t){rv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Lb(e)}}catch{}return new Fb},ni=ov("localStorage"),zb=ov("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Jy("@firebase/database"),Bb=function(){let t=1;return function(){return t++}}(),lv=function(t){const e=Ek(t),n=new Ck;n.update(e);const i=n.digest();return Qh.encodeByteArray(i)},Kr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Kr.apply(null,i):typeof i=="object"?e+=ke(i):e+=i,e+=" "}return e};let ir=null,ag=!0;const Wb=function(t,e){b(!e,"Can't turn on custom loggers persistently."),Yi.logLevel=q.VERBOSE,ir=Yi.log.bind(Yi)},Le=function(...t){if(ag===!0&&(ag=!1,ir===null&&zb.get("logging_enabled")===!0&&Wb()),ir){const e=Kr.apply(null,t);ir(e)}},Qr=function(t){return function(...e){Le(t,...e)}},bu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kr(...t);Yi.error(e)},an=function(...t){const e=`FIREBASE FATAL ERROR: ${Kr(...t)}`;throw Yi.error(e),new Error(e)},ot=function(...t){const e="FIREBASE WARNING: "+Kr(...t);Yi.warn(e)},Hb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},av=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jb=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},os="[MIN_NAME]",di="[MAX_NAME]",ps=function(t,e){if(t===e)return 0;if(t===os||e===di)return-1;if(e===os||t===di)return 1;{const n=cg(t),i=cg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Vb=function(t,e){return t===e?0:t<e?-1:1},Ps=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},Zh=function(t){if(typeof t!="object"||t===null)return ke(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ke(e[i]),n+=":",n+=Zh(t[e[i]]);return n+="}",n},cv=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const uv=function(t){b(!av(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},Ub=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$b=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Yb(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Gb=new RegExp("^-?(0*)\\d{1,10}$"),Kb=-2147483648,Qb=2147483647,cg=function(t){if(Gb.test(t)){const e=Number(t);if(e>=Kb&&e<=Qb)return e}return null},qr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ot("Exception was thrown by user callback.",n),e},Math.floor(0))}},qb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Le("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(e)}}class Xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="5",hv="v",dv="s",fv="r",pv="f",gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mv="ls",_v="p",Tu="ac",yv="websocket",vv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Jb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wv(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let i;if(e===yv)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vv)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jb(t)&&(n.ns=t.namespace);const s=[];return tt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac={},cc={};function ed(t){const e=t.toString();return ac[e]||(ac[e]=new eT),ac[e]}function tT(t,e){const n=t.toString();return cc[n]||(cc[n]=e()),cc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&qr(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="start",iT="close",sT="pLPCommand",rT="pRTLPCB",Sv="id",Cv="pw",Ev="ser",oT="cb",lT="seg",aT="ts",cT="d",uT="dframe",kv=1870,bv=30,hT=kv-bv,dT=25e3,fT=3e4;class Li{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qr(e),this.stats_=ed(n),this.urlFn=a=>(this.appCheckToken&&(a[Tu]=this.appCheckToken),wv(n,vv,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fT)),jb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new td((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ug)this.id=l,this.password=a;else if(o===iT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[ug]="t",i[Ev]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[oT]=this.scriptTagHolder.uniqueCallbackIdentifier),i[hv]=Jh,this.transportSessionId&&(i[dv]=this.transportSessionId),this.lastSessionId&&(i[mv]=this.lastSessionId),this.applicationId&&(i[_v]=this.applicationId),this.appCheckToken&&(i[Tu]=this.appCheckToken),typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(i[fv]=pv);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Li.forceAllow_=!0}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){return Li.forceAllow_?!0:!Li.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ub()&&!$b()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Uy(n),s=cv(i,hT);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[uT]="t",i[Sv]=e,i[Cv]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class td{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bb(),window[sT+this.uniqueCallbackIdentifier]=e,window[rT+this.uniqueCallbackIdentifier]=n,this.myIFrame=td.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Le("frame writing exception"),l.stack&&Le(l.stack),Le(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Le("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sv]=this.myID,e[Cv]=this.myPW,e[Ev]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bv+i.length<=kv;){const o=this.pendingSegs.shift();i=i+"&"+lT+s+"="+o.seg+"&"+aT+s+"="+o.ts+"&"+cT+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(dT)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Le("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=16384,gT=45e3;let Ol=null;typeof MozWebSocket<"u"?Ol=MozWebSocket:typeof WebSocket<"u"&&(Ol=WebSocket);class kt{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qr(this.connId),this.stats_=ed(n),this.connURL=kt.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[hv]=Jh,typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(o[fv]=pv),n&&(o[dv]=n),i&&(o[mv]=i),s&&(o[Tu]=s),r&&(o[_v]=r),wv(e,yv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let i;Qy(),this.mySock=new Ol(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ol!==null&&!kt.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||ni.get("previous_websocket_failure")===!0}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Mr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(b(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=cv(n,pT);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kt.responsesRequiredToBeHealthy=2;kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Li,kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=kt&&kt.isAvailable();let i=n&&!kt.previouslyFailed();if(e.webSocketOnly&&(n||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[kt];else{const s=this.transports_=[];for(const r of Or.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Or.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Or.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=6e4,_T=5e3,yT=10*1024,vT=100*1024,uc="t",hg="d",xT="s",dg="r",wT="e",fg="o",pg="a",gg="n",mg="p",ST="h";class CT{constructor(e,n,i,s,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qr("c:"+this.id+":"),this.transportManager_=new Or(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=sr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uc in e){const n=e[uc];n===pg?this.upgradeIfSecondaryHealthy_():n===dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ps("t",e),i=Ps("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ps("t",e),i=Ps("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ps(uc,e);if(hg in e){const i=e[hg];if(n===ST){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xT?this.onConnectionShutdown_(i):n===dg?this.onReset_(i):n===wT?bu("Server Error: "+i):n===fg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jh!==i&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),sr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_T))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Iv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ky()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Al}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=32,yg=768;class K{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $(){return new K("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new K(t.pieces_,e)}function Pv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ET(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Nv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new K(e,0)}function ve(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof K)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new K(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function qe(t,e){const n=z(t),i=z(e);if(n===null)return e;if(n===i)return qe(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nd(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class kT{constructor(e,n){this.errorPrefix_=n,this.parts_=Nv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=da(this.parts_[i]);Dv(this)}}function bT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=da(e),Dv(t)}function TT(t){const e=t.parts_.pop();t.byteLength_-=da(e),t.parts_.length>0&&(t.byteLength_-=1)}function Dv(t){if(t.byteLength_>yg)throw new Error(t.errorPrefix_+"has a key path longer than "+yg+" bytes ("+t.byteLength_+").");if(t.parts_.length>_g)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_g+") or object contains a cycle "+qn(t))}function qn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Iv{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new id}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=1e3,IT=60*5*1e3,vg=30*1e3,PT=1.3,NT=3e4,MT="server_kill",xg=3;class en extends Tv{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=en.nextPersistentConnectionId_++,this.log_=Qr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ns,this.maxReconnectDelay_=IT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Qy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");id.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Al.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(ke(r)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new qh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;en.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const i=rs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xk(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ke(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bu("Unrecognized action received from server: "+ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NT&&(this.reconnectDelay_=Ns),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*PT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+en.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},c=function(h){b(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Le("getToken() completed but was canceled"):(Le("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new CT(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{ot(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(MT)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ot(h),a())}}}interrupt(e){Le("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Le("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qp(this.interruptReasons_)&&(this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Zh(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new K(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Le("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xg&&(this.reconnectDelay_=vg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Le("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rv.replace(/\./g,"-")]=1,Ky()?e["framework.cordova"]=1:pk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Al.getInstance().currentlyOnline();return Qp(this.interruptReasons_)&&e}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new F(os,e),s=new F(os,n);return this.compare(i,s)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class Rv extends pa{static get __EMPTY_NODE(){return Ro}static set __EMPTY_NODE(e){Ro=e}compare(e,n){return ps(e.name,n.name)}isDefinedOn(e){throw fs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(di,Ro)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,Ro)}toString(){return".key"}}const Gi=new Rv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ce{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ce.RED,this.left=s??Xe.EMPTY_NODE,this.right=r??Xe.EMPTY_NODE}copy(e,n,i,s,r){return new Ce(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ce.RED=!0;Ce.BLACK=!1;class DT{copy(e,n,i,s,r){return this}insert(e,n,i){return new Ce(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xe{constructor(e,n=Xe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ce.BLACK,null,null))}remove(e){return new Xe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ce.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Oo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Oo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Oo(this.root_,null,this.comparator_,!0,e)}}Xe.EMPTY_NODE=new DT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e){return ps(t.name,e.name)}function sd(t,e){return ps(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;function OT(t){Iu=t}const Ov=function(t){return typeof t=="number"?"number:"+uv(t):"string:"+t},Av=function(t){if(t.isLeafNode()){const e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else b(t===Iu||t.isEmpty(),"priority of unexpected type.");b(t===Iu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg;class we{constructor(e,n=we.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Av(this.priorityNode_)}static set __childrenNodeConstructor(e){wg=e}static get __childrenNodeConstructor(){return wg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new we(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:z(e)===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:we.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=z(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,we.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ov(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=uv(this.value_):e+=this.value_,this.lazyHash_=lv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===we.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof we.__childrenNodeConstructor?-1:(b(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=we.VALUE_TYPE_ORDER.indexOf(n),r=we.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+n),b(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}we.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv,Fv;function AT(t){Lv=t}function LT(t){Fv=t}class FT extends pa{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?ps(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(di,new we("[PRIORITY-POST]",Fv))}makePost(e,n){const i=Lv(e);return new F(n,new we("[PRIORITY-POST]",i))}toString(){return".priority"}}const de=new FT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=Math.log(2);class BT{constructor(e){const n=r=>parseInt(Math.log(r)/zT,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ll=function(t,e,n,i){t.sort(e);const s=function(a,c){const u=c-a;let h,d;if(u===0)return null;if(u===1)return h=t[a],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,null,null);{const f=parseInt(u/2,10)+a,p=s(a,f),_=s(f+1,c);return h=t[f],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,p,_)}},r=function(a){let c=null,u=null,h=t.length;const d=function(p,_){const v=h-p,g=h;h-=p;const m=s(v+1,g),y=t[v],x=n?n(y):y;f(new Ce(x,y.node,_,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<a.count;++p){const _=a.nextBitIsOne(),v=Math.pow(2,a.count-(p+1));_?d(v,Ce.BLACK):(d(v,Ce.BLACK),d(v,Ce.RED))}return u},o=new BT(t.length),l=r(o);return new Xe(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const Ci={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(Ci&&de,"ChildrenNode.ts has not been loaded"),hc=hc||new Zt({".priority":Ci},{".priority":de}),hc}get(e){const n=rs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xe?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(F.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=Ll(i,e.getCompare()):l=Ci;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Zt(u,c)}addToIndexes(e,n){const i=Ml(this.indexes_,(s,r)=>{const o=rs(this.indexSet_,r);if(b(o,"Missing index implementation for "+r),s===Ci)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Ll(l,o.getCompare())}else return Ci;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new Zt(i,this.indexSet_)}removeFromIndexes(e,n){const i=Ml(this.indexes_,s=>{if(s===Ci)return s;{const r=n.get(e.name);return r?s.remove(new F(e.name,r)):s}});return new Zt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms;class R{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Av(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ms||(Ms=new R(new Xe(sd),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ms}updatePriority(e){return this.children_.isEmpty()?this:new R(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ms:n}}getChild(e){const n=z(e);return n===null?this:this.getImmediateChild(n).getChild(X(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(b(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new F(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Ms:this.priorityNode_;return new R(s,o,r)}}updateChild(e,n){const i=z(e);if(i===null)return n;{b(z(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(X(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(de,(o,l)=>{n[o]=l.val(e),i++,r&&R.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ov(this.getPriority().val())+":"),this.forEachChild(de,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":lv(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new F(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,F.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xr?-1:0}withIndex(e){if(e===Gi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new R(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(de),s=n.getIterator(de);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gi?null:this.indexMap_.get(e.toString())}}R.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WT extends R{constructor(){super(new Xe(sd),R.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}}const Xr=new WT;Object.defineProperties(F,{MIN:{value:new F(os,R.EMPTY_NODE)},MAX:{value:new F(di,Xr)}});Rv.__EMPTY_NODE=R.EMPTY_NODE;we.__childrenNodeConstructor=R;OT(Xr);LT(Xr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=!0;function Fe(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new we(n,Fe(e))}if(!(t instanceof Array)&&HT){const n=[];let i=!1;if(tt(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Fe(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return R.EMPTY_NODE;const r=Ll(n,RT,o=>o.name,sd);if(i){const o=Ll(n,de.getCompare());return new R(r,Fe(e),new Zt({".priority":o},{".priority":de}))}else return new R(r,Fe(e),Zt.Default)}else{let n=R.EMPTY_NODE;return tt(t,(i,s)=>{if(un(t,i)&&i.substring(0,1)!=="."){const r=Fe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Fe(e))}}AT(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends pa{constructor(e){super(),this.indexPath_=e,b(!B(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?ps(e.name,n.name):r}makePost(e,n){const i=Fe(e),s=R.EMPTY_NODE.updateChild(this.indexPath_,i);return new F(n,s)}maxPost(){const e=R.EMPTY_NODE.updateChild(this.indexPath_,Xr);return new F(di,e)}toString(){return Nv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends pa{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ps(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const i=Fe(e);return new F(n,i)}toString(){return".value"}}const UT=new VT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return{type:"value",snapshotNode:t}}function ls(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ar(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Lr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function $T(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Ar(n,l)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ls(n,i)):o.trackChildChange(Lr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(de,(s,r)=>{n.hasChild(s)||i.trackChildChange(Ar(s,r))}),n.isLeafNode()||n.forEachChild(de,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Lr(s,r,o))}else i.trackChildChange(ls(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.indexedFilter_=new rd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fr.getStartPost_(e),this.endPost_=Fr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new F(n,i))||(i=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=R.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(R.EMPTY_NODE);const r=this;return n.forEachChild(de,(o,l)=>{r.matches(new F(o,l))||(s=s.updateImmediateChild(o,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Fr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new F(n,i))||(i=R.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=R.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(R.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const l=e;b(l.numChildren()===this.limit_,"");const a=new F(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,a);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(Lr(n,i,h)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(Ar(n,h));const _=l.updateImmediateChild(n,R.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(ls(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return i.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(Ar(c.name,c.node)),r.trackChildChange(ls(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,R.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){const e=new od;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GT(t){return t.loadsAllData()?new rd(t.getIndex()):t.hasLimit()?new YT(t):new Fr(t)}function Sg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===UT?n="$value":t.index_===Gi?n="$key":(b(t.index_ instanceof jT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ke(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Cg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Tv{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Qr("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Fl.getListenId_(e,i),l={};this.listens_[o]=l;const a=Sg(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),rs(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=Fl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Sg(e._queryParams),i=e._path.toString(),s=new qh;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sk(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Mr(l.responseText)}catch{ot("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&ot("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(){return{value:null,children:new Map}}function Bv(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=z(e);t.children.has(i)||t.children.set(i,zl());const s=t.children.get(i);e=X(e),Bv(s,e,n)}}function Pu(t,e,n){t.value!==null?n(e,t.value):QT(t,(i,s)=>{const r=new K(e.toString()+"/"+i);Pu(s,r,n)})}function QT(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=10*1e3,XT=30*1e3,ZT=5*60*1e3;class JT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qT(e);const i=Eg+(XT-Eg)*Math.random();sr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;tt(e,(s,r)=>{r>0&&un(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),sr(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function Wv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ad(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=It.ACK_USER_WRITE,this.source=Wv()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(e));return new Bl($(),n,this.revert)}}else return b(z(this.path)===e,"operationForChild called for unrelated child."),new Bl(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.source=e,this.path=n,this.type=It.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new zr(this.source,$()):new zr(this.source,X(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=It.OVERWRITE}operationForChild(e){return B(this.path)?new fi(this.source,$(),this.snap.getImmediateChild(e)):new fi(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=It.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new fi(this.source,$(),n.value):new Br(this.source,$(),n)}else return b(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Br(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tI(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push($T(o.childName,o.snapshotNode))}),Ds(t,s,"child_removed",e,i,n),Ds(t,s,"child_added",e,i,n),Ds(t,s,"child_moved",r,i,n),Ds(t,s,"child_changed",e,i,n),Ds(t,s,"value",e,i,n),s}function Ds(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>iI(t,l,a)),o.forEach(l=>{const a=nI(t,l,r);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function nI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iI(t,e,n){if(e.childName==null||n.childName==null)throw fs("Should only compare child_ events.");const i=new F(e.childName,e.snapshotNode),s=new F(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){return{eventCache:t,serverCache:e}}function rr(t,e,n,i){return ga(new pi(e,n,i),t.serverCache)}function Hv(t,e,n,i){return ga(t.eventCache,new pi(e,n,i))}function Nu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc;const sI=()=>(dc||(dc=new Xe(Vb)),dc);class ne{constructor(e,n=sI()){this.value=e,this.children=n}static fromObject(e){let n=new ne(null);return tt(e,(i,s)=>{n=n.set(new K(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(B(e))return null;{const i=z(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(X(e),n);return r!=null?{path:ve(new K(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=z(e),i=this.children.get(n);return i!==null?i.subtree(X(e)):new ne(null)}}set(e,n){if(B(e))return new ne(n,this.children);{const i=z(e),r=(this.children.get(i)||new ne(null)).set(X(e),n),o=this.children.insert(i,r);return new ne(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new ne(null):new ne(null,this.children);{const n=z(e),i=this.children.get(n);if(i){const s=i.remove(X(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new ne(null):new ne(this.value,r)}else return this}}get(e){if(B(e))return this.value;{const n=z(e),i=this.children.get(n);return i?i.get(X(e)):null}}setTree(e,n){if(B(e))return n;{const i=z(e),r=(this.children.get(i)||new ne(null)).setTree(X(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ne(this.value,o)}}fold(e){return this.fold_($(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ve(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(B(e))return null;{const r=z(e),o=this.children.get(r);return o?o.findOnPath_(X(e),ve(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,i){if(B(e))return this;{this.value&&i(n,this.value);const s=z(e),r=this.children.get(s);return r?r.foreachOnPath_(X(e),ve(n,s),i):new ne(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(ve(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.writeTree_=e}static empty(){return new Mt(new ne(null))}}function or(t,e,n){if(B(e))return new Mt(new ne(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=qe(s,e);return r=r.updateChild(o,n),new Mt(t.writeTree_.set(s,r))}else{const s=new ne(n),r=t.writeTree_.setTree(e,s);return new Mt(r)}}}function kg(t,e,n){let i=t;return tt(n,(s,r)=>{i=or(i,ve(e,s),r)}),i}function bg(t,e){if(B(e))return Mt.empty();{const n=t.writeTree_.setTree(e,new ne(null));return new Mt(n)}}function Mu(t,e){return vi(t,e)!=null}function vi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qe(n.path,e)):null}function Tg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(i,s)=>{e.push(new F(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new F(i,s.value))}),e}function Dn(t,e){if(B(e))return t;{const n=vi(t,e);return n!=null?new Mt(new ne(n)):new Mt(t.writeTree_.subtree(e))}}function Du(t){return t.writeTree_.isEmpty()}function as(t,e){return jv($(),t.writeTree_,e)}function jv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(b(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=jv(ve(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ve(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t,e){return Yv(e,t)}function rI(t,e,n,i,s){b(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=or(t.visibleWrites,e,n)),t.lastWriteId=i}function oI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function lI(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&aI(l,i.path)?s=!1:Tt(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return cI(t),!0;if(i.snap)t.visibleWrites=bg(t.visibleWrites,i.path);else{const l=i.children;tt(l,a=>{t.visibleWrites=bg(t.visibleWrites,ve(i.path,a))})}return!0}else return!1}function aI(t,e){if(t.snap)return Tt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tt(ve(t.path,n),e))return!0;return!1}function cI(t){t.visibleWrites=Vv(t.allWrites,uI,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uI(t){return t.visible}function Vv(t,e,n){let i=Mt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)Tt(n,o)?(l=qe(n,o),i=or(i,l,r.snap)):Tt(o,n)&&(l=qe(o,n),i=or(i,$(),r.snap.getChild(l)));else if(r.children){if(Tt(n,o))l=qe(n,o),i=kg(i,l,r.children);else if(Tt(o,n))if(l=qe(o,n),B(l))i=kg(i,$(),r.children);else{const a=rs(r.children,z(l));if(a){const c=a.getChild(X(l));i=or(i,$(),c)}}}else throw fs("WriteRecord should have .snap or .children")}}return i}function Uv(t,e,n,i,s){if(!i&&!s){const r=vi(t.visibleWrites,e);if(r!=null)return r;{const o=Dn(t.visibleWrites,e);if(Du(o))return n;if(n==null&&!Mu(o,$()))return null;{const l=n||R.EMPTY_NODE;return as(o,l)}}}else{const r=Dn(t.visibleWrites,e);if(!s&&Du(r))return n;if(!s&&n==null&&!Mu(r,$()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Tt(c.path,e)||Tt(e,c.path))},l=Vv(t.allWrites,o,e),a=n||R.EMPTY_NODE;return as(l,a)}}}function hI(t,e,n){let i=R.EMPTY_NODE;const s=vi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(de,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Dn(t.visibleWrites,e);return n.forEachChild(de,(o,l)=>{const a=as(Dn(r,new K(o)),l);i=i.updateImmediateChild(o,a)}),Tg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Dn(t.visibleWrites,e);return Tg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function dI(t,e,n,i,s){b(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ve(e,n);if(Mu(t.visibleWrites,r))return null;{const o=Dn(t.visibleWrites,r);return Du(o)?s.getChild(n):as(o,s.getChild(n))}}function fI(t,e,n,i){const s=ve(e,n),r=vi(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Dn(t.visibleWrites,s);return as(o,i.getNode().getImmediateChild(n))}else return null}function pI(t,e){return vi(t.visibleWrites,e)}function gI(t,e,n,i,s,r,o){let l;const a=Dn(t.visibleWrites,e),c=vi(a,$());if(c!=null)l=c;else if(n!=null)l=as(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),d=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function mI(){return{visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1}}function Wl(t,e,n,i){return Uv(t.writeTree,t.treePath,e,n,i)}function ud(t,e){return hI(t.writeTree,t.treePath,e)}function Ig(t,e,n,i){return dI(t.writeTree,t.treePath,e,n,i)}function Hl(t,e){return pI(t.writeTree,ve(t.treePath,e))}function _I(t,e,n,i,s,r){return gI(t.writeTree,t.treePath,e,n,i,s,r)}function hd(t,e,n){return fI(t.writeTree,t.treePath,e,n)}function $v(t,e){return Yv(ve(t.treePath,e),t.writeTree)}function Yv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,Lr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,Ar(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,ls(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,Lr(i,e.snapshotNode,s.oldSnap));else throw fs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Gv=new vI;class dd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gi(this.viewCache_),r=_I(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){return{filter:t}}function wI(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SI(t,e,n,i,s){const r=new yI;let o,l;if(n.type===It.OVERWRITE){const c=n;c.source.fromUser?o=Ru(t,e,c.path,c.snap,i,s,r):(b(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!B(c.path),o=jl(t,e,c.path,c.snap,i,s,l,r))}else if(n.type===It.MERGE){const c=n;c.source.fromUser?o=EI(t,e,c.path,c.children,i,s,r):(b(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Ou(t,e,c.path,c.children,i,s,l,r))}else if(n.type===It.ACK_USER_WRITE){const c=n;c.revert?o=TI(t,e,c.path,i,s,r):o=kI(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===It.LISTEN_COMPLETE)o=bI(t,e,n.path,i,r);else throw fs("Unknown operation type: "+n.type);const a=r.getChanges();return CI(e,o,a),{viewCache:o,changes:a}}function CI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Nu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(zv(Nu(e)))}}function Kv(t,e,n,i,s,r){const o=e.eventCache;if(Hl(i,n)!=null)return e;{let l,a;if(B(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=gi(e),u=c instanceof R?c:R.EMPTY_NODE,h=ud(i,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Wl(i,gi(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=z(n);if(c===".priority"){b(Ln(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Ig(i,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=X(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=Ig(i,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=hd(i,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,s,r):l=o.getNode()}}return rr(e,l,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function jl(t,e,n,i,s,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(B(n))c=u.updateFullNode(a.getNode(),i,null);else if(u.filtersNodes()&&!a.isFiltered()){const f=a.getNode().updateChild(n,i);c=u.updateFullNode(a.getNode(),f,null)}else{const f=z(n);if(!a.isCompleteForPath(n)&&Ln(n)>1)return e;const p=X(n),v=a.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(a.getNode(),v):c=u.updateChild(a.getNode(),f,v,p,Gv,null)}const h=Hv(e,c,a.isFullyInitialized()||B(n),u.filtersNodes()),d=new dd(s,h,r);return Kv(t,h,n,s,d,l)}function Ru(t,e,n,i,s,r,o){const l=e.eventCache;let a,c;const u=new dd(s,e,r);if(B(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=rr(e,c,!0,t.filter.filtersNodes());else{const h=z(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),a=rr(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=X(n),f=l.getNode().getImmediateChild(h);let p;if(B(d))p=i;else{const _=u.getCompleteChild(h);_!=null?Pv(d)===".priority"&&_.getChild(Mv(d)).isEmpty()?p=_:p=_.updateChild(d,i):p=R.EMPTY_NODE}if(f.equals(p))a=e;else{const _=t.filter.updateChild(l.getNode(),h,p,d,u,o);a=rr(e,_,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Pg(t,e){return t.eventCache.isCompleteForChild(e)}function EI(t,e,n,i,s,r,o){let l=e;return i.foreach((a,c)=>{const u=ve(n,a);Pg(e,z(u))&&(l=Ru(t,l,u,c,s,r,o))}),i.foreach((a,c)=>{const u=ve(n,a);Pg(e,z(u))||(l=Ru(t,l,u,c,s,r,o))}),l}function Ng(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Ou(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;B(n)?c=i:c=new ne(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),p=Ng(t,f,d);a=jl(t,a,new K(h),p,s,r,o,l)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const p=e.serverCache.getNode().getImmediateChild(h),_=Ng(t,p,d);a=jl(t,a,new K(h),_,s,r,o,l)}}),a}function kI(t,e,n,i,s,r,o){if(Hl(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(B(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return jl(t,e,n,a.getNode().getChild(n),s,r,l,o);if(B(n)){let c=new ne(null);return a.getNode().forEachChild(Gi,(u,h)=>{c=c.set(new K(u),h)}),Ou(t,e,n,c,s,r,l,o)}else return e}else{let c=new ne(null);return i.foreach((u,h)=>{const d=ve(n,u);a.isCompleteForPath(d)&&(c=c.set(u,a.getNode().getChild(d)))}),Ou(t,e,n,c,s,r,l,o)}}function bI(t,e,n,i,s){const r=e.serverCache,o=Hv(e,r.getNode(),r.isFullyInitialized()||B(n),r.isFiltered());return Kv(t,o,n,i,Gv,s)}function TI(t,e,n,i,s,r){let o;if(Hl(i,n)!=null)return e;{const l=new dd(i,e,s),a=e.eventCache.getNode();let c;if(B(n)||z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Wl(i,gi(e));else{const h=e.serverCache.getNode();b(h instanceof R,"serverChildren would be complete if leaf node"),u=ud(i,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=z(n);let h=hd(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,X(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,R.EMPTY_NODE,X(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Wl(i,gi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Hl(i,$())!=null,rr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new rd(i.getIndex()),r=GT(i);this.processor_=xI(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(R.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(R.EMPTY_NODE,l.getNode(),null),u=new pi(a,o.isFullyInitialized(),s.filtersNodes()),h=new pi(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=ga(h,u),this.eventGenerator_=new eI(this.query_)}get query(){return this.query_}}function PI(t){return t.viewCache_.serverCache.getNode()}function NI(t,e){const n=gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function Mg(t){return t.eventRegistrations_.length===0}function MI(t,e){t.eventRegistrations_.push(e)}function Dg(t,e,n){const i=[];if(n){b(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Rg(t,e,n,i){e.type===It.MERGE&&e.source.queryId!==null&&(b(gi(t.viewCache_),"We should always have a full cache before handling merges"),b(Nu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=SI(t.processor_,s,e,n,i);return wI(t.processor_,r.viewCache),b(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Qv(t,r.changes,r.viewCache.eventCache.getNode(),null)}function DI(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(r,o)=>{i.push(ls(r,o))}),n.isFullyInitialized()&&i.push(zv(n.getNode())),Qv(t,i,n.getNode(),e)}function Qv(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return tI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class RI{constructor(){this.views=new Map}}function OI(t){b(!Vl,"__referenceConstructor has already been defined"),Vl=t}function AI(){return b(Vl,"Reference.ts has not been loaded"),Vl}function LI(t){return t.views.size===0}function fd(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return b(r!=null,"SyncTree gave us an op for an invalid query."),Rg(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Rg(o,e,n,i));return r}}function FI(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Wl(n,s?i:null),a=!1;l?a=!0:i instanceof R?(l=ud(n,i),a=!1):(l=R.EMPTY_NODE,a=!1);const c=ga(new pi(l,a,!1),new pi(i,s,!1));return new II(e,c)}return o}function zI(t,e,n,i,s,r){const o=FI(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),MI(o,n),DI(o,n)}function BI(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Fn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Dg(c,n,i)),Mg(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Dg(a,n,i)),Mg(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Fn(t)&&r.push(new(AI())(e._repo,e._path)),{removed:r,events:o}}function qv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ki(t,e){let n=null;for(const i of t.views.values())n=n||NI(i,e);return n}function Xv(t,e){if(e._queryParams.loadsAllData())return ma(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Zv(t,e){return Xv(t,e)!=null}function Fn(t){return ma(t)!=null}function ma(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;function WI(t){b(!Ul,"__referenceConstructor has already been defined"),Ul=t}function HI(){return b(Ul,"Reference.ts has not been loaded"),Ul}let jI=1;class Og{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ne(null),this.pendingWriteTree_=mI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VI(t,e,n,i,s){return rI(t.pendingWriteTree_,e,n,i,s),s?Zr(t,new fi(Wv(),e,n)):[]}function Fi(t,e,n=!1){const i=oI(t.pendingWriteTree_,e);if(lI(t.pendingWriteTree_,e)){let r=new ne(null);return i.snap!=null?r=r.set($(),!0):tt(i.children,o=>{r=r.set(new K(o),!0)}),Zr(t,new Bl(i.path,r,n))}else return[]}function _a(t,e,n){return Zr(t,new fi(ld(),e,n))}function UI(t,e,n){const i=ne.fromObject(n);return Zr(t,new Br(ld(),e,i))}function $I(t,e){return Zr(t,new zr(ld(),e))}function YI(t,e,n){const i=pd(t,n);if(i){const s=gd(i),r=s.path,o=s.queryId,l=qe(r,e),a=new zr(ad(o),l);return md(t,r,a)}else return[]}function Au(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||Zv(o,e))){const a=BI(o,e,n,i);LI(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!s){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,f)=>Fn(f));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const f=QI(d);for(let p=0;p<f.length;++p){const _=f[p],v=_.query,g=n0(t,_);t.listenProvider_.startListening(lr(v),$l(t,v),g.hashFn,g.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(lr(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(ya(d));t.listenProvider_.stopListening(lr(d),f)}))}qI(t,c)}return l}function GI(t,e,n,i){const s=pd(t,i);if(s!=null){const r=gd(s),o=r.path,l=r.queryId,a=qe(o,e),c=new fi(ad(l),a,n);return md(t,o,c)}else return[]}function KI(t,e,n,i){const s=pd(t,i);if(s){const r=gd(s),o=r.path,l=r.queryId,a=qe(o,e),c=ne.fromObject(n),u=new Br(ad(l),a,c);return md(t,o,u)}else return[]}function Ag(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,f)=>{const p=qe(d,s);r=r||Ki(f,p),o=o||Fn(f)});let l=t.syncPointTree_.get(s);l?(o=o||Fn(l),r=r||Ki(l,$())):(l=new RI,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=R.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,p)=>{const _=Ki(p,$());_&&(r=r.updateImmediateChild(f,_))}));const c=Zv(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=ya(e);b(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=XI();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=cd(t.pendingWriteTree_,s);let h=zI(l,e,n,u,r,a);if(!c&&!o&&!i){const d=Xv(l,e);h=h.concat(ZI(t,e,d))}return h}function Jv(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=qe(o,e),c=Ki(l,a);if(c)return c});return Uv(s,e,r,n,!0)}function Zr(t,e){return e0(e,t.syncPointTree_,null,cd(t.pendingWriteTree_,$()))}function e0(t,e,n,i){if(B(t.path))return t0(t,e,n,i);{const s=e.get($());n==null&&s!=null&&(n=Ki(s,$()));let r=[];const o=z(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=$v(i,o);r=r.concat(e0(l,a,c,u))}return s&&(r=r.concat(fd(s,t,i,n))),r}}function t0(t,e,n,i){const s=e.get($());n==null&&s!=null&&(n=Ki(s,$()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=$v(i,o),u=t.operationForChild(o);u&&(r=r.concat(t0(u,l,a,c)))}),s&&(r=r.concat(fd(s,t,i,n))),r}function n0(t,e){const n=e.query,i=$l(t,n);return{hashFn:()=>(PI(e)||R.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?YI(t,n._path,i):$I(t,n._path);{const r=Yb(s,n);return Au(t,n,null,r)}}}}function $l(t,e){const n=ya(e);return t.queryToTagMap.get(n)}function ya(t){return t._path.toString()+"$"+t._queryIdentifier}function pd(t,e){return t.tagToQueryMap.get(e)}function gd(t){const e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}}function md(t,e,n){const i=t.syncPointTree_.get(e);b(i,"Missing sync point for query tag that we're tracking");const s=cd(t.pendingWriteTree_,e);return fd(i,n,s,null)}function QI(t){return t.fold((e,n,i)=>{if(n&&Fn(n))return[ma(n)];{let s=[];return n&&(s=qv(n)),tt(i,(r,o)=>{s=s.concat(o)}),s}})}function lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(HI())(t._repo,t._path):t}function qI(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=ya(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function XI(){return jI++}function ZI(t,e,n){const i=e._path,s=$l(t,e),r=n0(t,n),o=t.listenProvider_.startListening(lr(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)b(!Fn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!B(c)&&u&&Fn(u))return[ma(u).query];{let d=[];return u&&(d=d.concat(qv(u).map(f=>f.query))),tt(h,(f,p)=>{d=d.concat(p)}),d}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(lr(u),$l(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _d(n)}node(){return this.node_}}class yd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ve(this.path_,e);return new yd(this.syncTree_,n)}node(){return Jv(this.syncTree_,this.path_)}}const JI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Lg=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tP(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},tP=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&b(!1,"Unexpected increment value: "+i);const s=e.node();if(b(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},nP=function(t,e,n,i){return vd(e,new yd(n,t),i)},iP=function(t,e,n){return vd(t,new _d(e),n)};function vd(t,e,n){const i=t.getPriority().val(),s=Lg(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=Lg(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new we(l,Fe(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new we(s))),o.forEachChild(de,(l,a)=>{const c=vd(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function wd(t,e){let n=e instanceof K?e:new K(e),i=t,s=z(n);for(;s!==null;){const r=rs(i.node.children,s)||{children:{},childCount:0};i=new xd(s,i,r),n=X(n),s=z(n)}return i}function gs(t){return t.node.value}function i0(t,e){t.node.value=e,Lu(t)}function s0(t){return t.node.childCount>0}function sP(t){return gs(t)===void 0&&!s0(t)}function va(t,e){tt(t.node.children,(n,i)=>{e(new xd(n,t,i))})}function r0(t,e,n,i){n&&!i&&e(t),va(t,s=>{r0(s,e,!0,i)}),n&&i&&e(t)}function rP(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Jr(t){return new K(t.parent===null?t.name:Jr(t.parent)+"/"+t.name)}function Lu(t){t.parent!==null&&oP(t.parent,t.name,t)}function oP(t,e,n){const i=sP(n),s=un(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Lu(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Lu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/[\[\].#$\/\u0000-\u001F\u007F]/,aP=/[\[\].#$\u0000-\u001F\u007F]/,fc=10*1024*1024,o0=function(t){return typeof t=="string"&&t.length!==0&&!lP.test(t)},l0=function(t){return typeof t=="string"&&t.length!==0&&!aP.test(t)},cP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),l0(t)},a0=function(t,e,n){const i=n instanceof K?new kT(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qn(i));if(typeof e=="function")throw new Error(t+"contains a function "+qn(i)+" with contents = "+e.toString());if(av(e))throw new Error(t+"contains "+e.toString()+" "+qn(i));if(typeof e=="string"&&e.length>fc/3&&da(e)>fc)throw new Error(t+"contains a string greater than "+fc+" utf8 bytes "+qn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(tt(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!o0(o)))throw new Error(t+" contains an invalid key ("+o+") "+qn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bT(i,o),a0(t,l,i),TT(i)}),s&&r)throw new Error(t+' contains ".value" child '+qn(i)+" in addition to actual children.")}},c0=function(t,e,n,i){if(!l0(n))throw new Error(Zy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),c0(t,e,n)},hP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!o0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cP(n))throw new Error(Zy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function u0(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!nd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function h0(t,e,n){u0(t,n),d0(t,i=>nd(i,e))}function xi(t,e,n){u0(t,n),d0(t,i=>Tt(i,e)||Tt(e,i))}function d0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(fP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ir&&Le("event: "+n.toString()),qr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="repo_interrupt",gP=25;class mP{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zl(),this.transactionQueueTree_=new xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _P(t,e,n){if(t.stats_=ed(t.repoInfo_),t.forceRestClient_||qb())t.server_=new Fl(t.repoInfo_,(i,s,r,o)=>{Fg(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new en(t.repoInfo_,e,(i,s,r,o)=>{Fg(t,i,s,r,o)},i=>{zg(t,i)},i=>{vP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=tT(t.repoInfo_,()=>new JT(t.stats_,t.server_)),t.infoData_=new KT,t.infoSyncTree_=new Og({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=_a(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Sd(t,"connected",!1),t.serverSyncTree_=new Og({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const c=o(l,a);xi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function yP(t){const n=t.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f0(t){return JI({timestamp:yP(t)})}function Fg(t,e,n,i,s){t.dataUpdateCount++;const r=new K(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=Ml(n,c=>Fe(c));o=KI(t.serverSyncTree_,r,a,s)}else{const a=Fe(n);o=GI(t.serverSyncTree_,r,a,s)}else if(i){const a=Ml(n,c=>Fe(c));o=UI(t.serverSyncTree_,r,a)}else{const a=Fe(n);o=_a(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Ed(t,r)),xi(t.eventQueue_,l,o)}function zg(t,e){Sd(t,"connected",e),e===!1&&wP(t)}function vP(t,e){tt(e,(n,i)=>{Sd(t,n,i)})}function Sd(t,e,n){const i=new K("/.info/"+e),s=Fe(n);t.infoData_.updateSnapshot(i,s);const r=_a(t.infoSyncTree_,i,s);xi(t.eventQueue_,i,r)}function xP(t){return t.nextWriteId_++}function wP(t){p0(t,"onDisconnectEvents");const e=f0(t),n=zl();Pu(t.onDisconnect_,$(),(s,r)=>{const o=nP(s,r,t.serverSyncTree_,e);Bv(n,s,o)});let i=[];Pu(n,$(),(s,r)=>{i=i.concat(_a(t.serverSyncTree_,s,r));const o=bP(t,s);Ed(t,o)}),t.onDisconnect_=zl(),xi(t.eventQueue_,$(),i)}function SP(t,e,n){let i;z(e._path)===".info"?i=Ag(t.infoSyncTree_,e,n):i=Ag(t.serverSyncTree_,e,n),h0(t.eventQueue_,e._path,i)}function Bg(t,e,n){let i;z(e._path)===".info"?i=Au(t.infoSyncTree_,e,n):i=Au(t.serverSyncTree_,e,n),h0(t.eventQueue_,e._path,i)}function CP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(pP)}function p0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Le(n,...e)}function g0(t,e,n){return Jv(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function Cd(t,e=t.transactionQueueTree_){if(e||xa(t,e),gs(e)){const n=_0(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&EP(t,Jr(e),n)}else s0(e)&&va(e,n=>{Cd(t,n)})}function EP(t,e,n){const i=n.map(c=>c.currentWriteId),s=g0(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=qe(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{p0(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(Fi(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();xa(t,wd(t.transactionQueueTree_,e)),Cd(t,t.transactionQueueTree_),xi(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)qr(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ot("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Ed(t,e)}},o)}function Ed(t,e){const n=m0(t,e),i=Jr(n),s=_0(t,n);return kP(t,s,i),i}function kP(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=qe(n,a.path);let u=!1,h;if(b(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,s=s.concat(Fi(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=gP)u=!0,h="maxretry",s=s.concat(Fi(t.serverSyncTree_,a.currentWriteId,!0));else{const d=g0(t,a.path,o);a.currentInputSnapshot=d;const f=e[l].update(d.val());if(f!==void 0){a0("transaction failed: Data returned ",f,a.path);let p=Fe(f);typeof f=="object"&&f!=null&&un(f,".priority")||(p=p.updatePriority(d.getPriority()));const v=a.currentWriteId,g=f0(t),m=iP(p,d,g);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=m,a.currentWriteId=xP(t),o.splice(o.indexOf(v),1),s=s.concat(VI(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),s=s.concat(Fi(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",s=s.concat(Fi(t.serverSyncTree_,a.currentWriteId,!0))}xi(t.eventQueue_,n,s),s=[],u&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(h),!1,null))))}xa(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)qr(i[l]);Cd(t,t.transactionQueueTree_)}function m0(t,e){let n,i=t.transactionQueueTree_;for(n=z(e);n!==null&&gs(i)===void 0;)i=wd(i,n),e=X(e),n=z(e);return i}function _0(t,e){const n=[];return y0(t,e,n),n.sort((i,s)=>i.order-s.order),n}function y0(t,e,n){const i=gs(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);va(e,s=>{y0(t,s,n)})}function xa(t,e){const n=gs(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,i0(e,n.length>0?n:void 0)}va(e,i=>{xa(t,i)})}function bP(t,e){const n=Jr(m0(t,e)),i=wd(t.transactionQueueTree_,e);return rP(i,s=>{pc(t,s)}),pc(t,i),r0(i,s=>{pc(t,s)}),n}function pc(t,e){const n=gs(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Fi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?i0(e,void 0):n.length=r+1,xi(t.eventQueue_,Jr(e),s);for(let o=0;o<i.length;o++)qr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function IP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ot(`Invalid query segment '${n}' in query '${t}'`)}return e}const Wg=function(t,e){const n=PP(t),i=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Hb();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xv(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new K(n.pathString)}},PP=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=TP(t.substring(u,h)));const d=IP(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class MP{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return B(this._path)?null:Pv(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const e=Cg(this._queryParams),n=Zh(e);return n==="{}"?"default":n}get _queryObject(){return Cg(this._queryParams)}isEqual(e){if(e=fa(e),!(e instanceof kd))return!1;const n=this._repo===e._repo,i=nd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+ET(this._path)}}class Hn extends kd{constructor(e,n){super(e,n,new od,!1)}get parent(){const e=Mv(this._path);return e===null?null:new Hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yl{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new K(e),i=Fu(this.ref,e);return new Yl(this._node.getChild(n),i,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Yl(s,Fu(this.ref,i),de)))}hasChild(e){const n=new K(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function RP(t,e){return t=fa(t),t._checkNotDeleted("ref"),Fu(t._root,e)}function Fu(t,e){return t=fa(t),z(t._path)===null?uP("child","path",e):c0("child","path",e),new Hn(t._repo,ve(t._path,e))}class bd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new NP("value",this,new Yl(e.snapshotNode,new Hn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MP(this,e,n):null}matches(e){return e instanceof bd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OP(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const a=n,c=(u,h)=>{Bg(t._repo,t,l),a(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new DP(n,r||void 0),l=new bd(o);return SP(t._repo,t,l),()=>Bg(t._repo,t,l)}function AP(t,e,n,i){return OP(t,"value",e,n,i)}OI(Hn);WI(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FIREBASE_DATABASE_EMULATOR_HOST",zu={};let FP=!1;function zP(t,e,n,i){t.repoInfo_=new xv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function BP(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Le("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Wg(r,s),l=o.repoInfo,a;typeof process<"u"&&rg&&(a=rg[LP]),a?(r=`http://${a}?ns=${l.namespace}`,o=Wg(r,s),l=o.repoInfo):o.repoInfo.secure;const c=new Zb(t.name,t.options,e);hP("Invalid Firebase Database URL",o),B(o.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const u=HP(l,t,c,new Xb(t.name,n));return new jP(u,t)}function WP(t,e){const n=zu[e];(!n||n[t.key]!==t)&&an(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CP(t),delete n[t.key]}function HP(t,e,n,i){let s=zu[e.name];s||(s={},zu[e.name]=s);let r=s[t.toURLString()];return r&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new mP(t,FP,n,i),s[t.toURLString()]=r,r}class jP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_P(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&an("Cannot call "+e+" on a deleted database.")}}function VP(t=kb(),e){const n=wb(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=hk("database");i&&UP(n,...i)}return n}function UP(t,e,n,i={}){t=fa(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Xo(Xo.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:dk(i.mockUserToken,t.app.options.projectId);r=new Xo(o)}zP(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){Ab(Eb),Rl(new Dr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return BP(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),$i(og,lg,t),$i(og,lg,"esm2017")}en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$P();var YP="firebase",GP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(YP,GP,"app");const KP={apiKey:"AIzaSyC15XGTOc9-BmsnPWwYhKiWHF2QibnQQaM",authDomain:"smart-aquaponics-system-37bba.firebaseapp.com",databaseURL:"https://smart-aquaponics-system-37bba-default-rtdb.firebaseio.com",projectId:"smart-aquaponics-system-37bba",storageBucket:"smart-aquaponics-system-37bba.firebasestorage.app",messagingSenderId:"572958792637",appId:"1:572958792637:web:daf88a5c50ee29c08c50d4",measurementId:"G-EHCQ5880SC"},QP=nv(KP),qP=VP(QP),XP=()=>{const[t,e]=ue.useState(null),[n,i]=ue.useState([]),[s,r]=ue.useState(!0),[o,l]=ue.useState(null);return ue.useEffect(()=>{const a=RP(qP,"sensors"),c=AP(a,u=>{try{const h=u.val();if(h){const d={ph:h.ph||0,temperature:h.temperature||0,waterLevel:h.waterLevel||0,timestamp:Date.now()};e(d),i(f=>[...f,d].slice(-24))}r(!1)}catch{l("Error fetching sensor data"),r(!1)}},u=>{l(u.message),r(!1)});return()=>c()},[]),{currentData:t,historicalData:n,loading:s,error:o}};function ZP(){const{currentData:t,historicalData:e,loading:n,error:i}=XP();if(n)return M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:M.jsx("div",{className:"text-xl text-gray-600",children:"Loading sensor data..."})});if(i)return M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:M.jsxs("div",{className:"text-xl text-red-600",children:["Error: ",i]})});const s=r=>new Date(r).toLocaleTimeString();return M.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:M.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Aquaponics Monitoring System"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[M.jsx(Ga,{title:"pH Level",value:(t==null?void 0:t.ph.toFixed(2))||"0",unit:"pH",icon:M.jsx(Xw,{className:"w-6 h-6 text-blue-600"})}),M.jsx(Ga,{title:"Water Temperature",value:(t==null?void 0:t.temperature.toFixed(1))||"0",unit:"°C",icon:M.jsx(Zw,{className:"w-6 h-6 text-red-600"})}),M.jsx(Ga,{title:"Water Level",value:(t==null?void 0:t.waterLevel.toFixed(1))||"0",unit:"%",icon:M.jsx(qw,{className:"w-6 h-6 text-green-600"})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[M.jsx("h3",{className:"text-lg font-semibold mb-4",children:"pH History"}),M.jsx(ic,{data:e.map(r=>r.ph),labels:e.map(r=>s(r.timestamp)),label:"pH Level",borderColor:"#2563eb"})]}),M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[M.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Temperature History"}),M.jsx(ic,{data:e.map(r=>r.temperature),labels:e.map(r=>s(r.timestamp)),label:"Temperature (°C)",borderColor:"#dc2626"})]}),M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[M.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Water Level History"}),M.jsx(ic,{data:e.map(r=>r.waterLevel),labels:e.map(r=>s(r.timestamp)),label:"Water Level (%)",borderColor:"#16a34a"})]})]}),M.jsx("div",{className:"mt-8",children:M.jsx(tk,{data:e})})]})})}ey(document.getElementById("root")).render(M.jsx(ue.StrictMode,{children:M.jsx(ZP,{})}));
